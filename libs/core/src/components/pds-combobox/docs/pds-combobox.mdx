import { DocArgsTable, DocCanvas } from '@pine-ds/doc-components';
import { components } from '../../../../dist/docs.json';

# Combobox

A combobox is a text input with a dropdown list of options, allowing users to filter and select from a list. It is useful for searchable selects and autocomplete scenarios.

## Guidelines

### When to use
- When users need to select from a long or searchable list of options.
- When you want to allow both typing and selection.
- When you need rich layouts in options or trigger content.

### When not to use
- For simple, short lists (use [Select](/docs/components-select--docs)).
- For multi-select (use checkboxes or a multi-select component).

### Accessibility
- Implements the WAI-ARIA Combobox Pattern for screen reader compatibility.
- Supports full keyboard navigation: Arrow keys, Enter, Escape.
- Input is labelled and controls the listbox.
- Custom layouts maintain proper ARIA attributes and focus management.

## Usage Notes

### Working with Labels

When analyzing designs or screenshots, text that appears above an input field is the input's label, not a separate `pds-text` component. The `label` prop creates text that appears above the input field and integrates properly with the component's styling and accessibility features.

## Properties

<DocArgsTable componentName="pds-combobox" docSource={components} />

## Modes

The combobox supports two modes:

- **Filtering** (`mode="filter"`): Filters options as you type (default).
- **Select-only** (`mode="select-only"`): Always shows all options, regardless of input value.

Use the `mode` prop to control this behavior.

## Triggers

The combobox supports three trigger types:

- **Input** (`trigger="input"`): Renders a text input (default, for filtering/autocomplete).
- **Button** (`trigger="button"`): Renders a button-like div (for select-only, non-editable comboboxes).
- **Chip** (`trigger="chip"`): Renders a chip component (for select-only, styled as a chip).

Use the `trigger` prop to control this behavior. See [WAI-ARIA Combobox Patterns](https://www.w3.org/WAI/ARIA/apg/patterns/combobox/#examples) for more details.

## Trigger Variants

The button trigger supports the following visual variants, matching Pine button styles:

- **secondary** (default)
- **primary**
- **accent**
- **destructive**

Use the `triggerVariant` prop to control the style.

### Secondary (default)
The secondary variant provides a subtle button appearance with a white background and border. This is the default styling for button triggers.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="combobox-trigger-secondary" label="Favorite Animal" placeholder="Select an animal" trigger="button" trigger-variant="secondary" mode="select-only">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="combobox-trigger-secondary" label="Favorite Animal" placeholder="Select an animal" trigger="button" triggerVariant="secondary" mode="select-only">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="combobox-trigger-secondary" label="Favorite Animal" placeholder="Select an animal" trigger="button" trigger-variant="secondary" mode="select-only">
    <option value="cat">Cat</option>
    <option value="dog">Dog</option>
    <option value="panda">Panda</option>
    <option value="snake">Snake</option>
  </pds-combobox>
</DocCanvas>

### Primary
The primary variant uses Pine's primary color scheme, creating a more prominent button appearance suitable for primary actions.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="combobox-trigger-primary" label="Favorite Animal" placeholder="Select an animal" trigger="button" trigger-variant="primary" mode="select-only">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="combobox-trigger-primary" label="Favorite Animal" placeholder="Select an animal" trigger="button" triggerVariant="primary" mode="select-only">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="combobox-trigger-primary" label="Favorite Animal" placeholder="Select an animal" trigger="button" trigger-variant="primary" mode="select-only">
    <option value="cat">Cat</option>
    <option value="dog">Dog</option>
    <option value="panda">Panda</option>
    <option value="snake">Snake</option>
  </pds-combobox>
</DocCanvas>

### Accent
The accent variant uses Pine's accent color scheme, providing a distinctive appearance for special or highlighted selections.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="combobox-trigger-accent" label="Favorite Animal" placeholder="Select an animal" trigger="button" trigger-variant="accent" mode="select-only">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="combobox-trigger-accent" label="Favorite Animal" placeholder="Select an animal" trigger="button" triggerVariant="accent" mode="select-only">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="combobox-trigger-accent" label="Favorite Animal" placeholder="Select an animal" trigger="button" trigger-variant="accent" mode="select-only">
    <option value="cat">Cat</option>
    <option value="dog">Dog</option>
    <option value="panda">Panda</option>
    <option value="snake">Snake</option>
  </pds-combobox>
</DocCanvas>

### Destructive
The destructive variant uses Pine's destructive color scheme, providing a warning appearance suitable for destructive or dangerous actions like deleting items.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="combobox-trigger-destructive" label="Delete Item" placeholder="Select item to delete" trigger="button" trigger-variant="destructive" mode="select-only">
  <option value="file1">Document.pdf</option>
  <option value="file2">Image.jpg</option>
  <option value="file3">Spreadsheet.xlsx</option>
  <option value="file4">Presentation.pptx</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="combobox-trigger-destructive" label="Delete Item" placeholder="Select item to delete" trigger="button" triggerVariant="destructive" mode="select-only">
  <option value="file1">Document.pdf</option>
  <option value="file2">Image.jpg</option>
  <option value="file3">Spreadsheet.xlsx</option>
  <option value="file4">Presentation.pptx</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="combobox-trigger-destructive" label="Delete Item" placeholder="Select item to delete" trigger="button" trigger-variant="destructive" mode="select-only">
    <option value="file1">Document.pdf</option>
    <option value="file2">Image.jpg</option>
    <option value="file3">Spreadsheet.xlsx</option>
    <option value="file4">Presentation.pptx</option>
  </pds-combobox>
</DocCanvas>

### Filtering (default)
In filtering mode, the combobox filters the available options as you type, making it easy to find specific items in large lists. This is the default behavior.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="combobox-filter" label="Favorite Animal" placeholder="Type to search...">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="combobox-filter" label="Favorite Animal" placeholder="Type to search...">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="combobox-filter" label="Favorite Animal" placeholder="Type to search...">
    <option value="cat">Cat</option>
    <option value="dog">Dog</option>
    <option value="panda">Panda</option>
    <option value="snake">Snake</option>
  </pds-combobox>
</DocCanvas>

### Select-only
In select-only mode, all options are always shown regardless of what you type. This is useful when you want dropdown behavior without filtering.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="combobox-selectonly" label="Favorite Animal" placeholder="Type to search..." mode="select-only">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="combobox-selectonly" label="Favorite Animal" placeholder="Type to search..." mode="select-only">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="combobox-selectonly" label="Favorite Animal" placeholder="Type to search..." mode="select-only">
    <option value="cat">Cat</option>
    <option value="dog">Dog</option>
    <option value="panda">Panda</option>
    <option value="snake">Snake</option>
  </pds-combobox>
</DocCanvas>

### Input Trigger (default)
The input trigger provides a text input field that users can type into. This is ideal for filtering and autocomplete scenarios where users need to search through options.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="combobox-trigger-input" label="Favorite Animal" placeholder="Type to search..." trigger="input">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="combobox-trigger-input" label="Favorite Animal" placeholder="Type to search..." trigger="input">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="combobox-trigger-input" label="Favorite Animal" placeholder="Type to search..." trigger="input">
    <option value="cat">Cat</option>
    <option value="dog">Dog</option>
    <option value="panda">Panda</option>
    <option value="snake">Snake</option>
  </pds-combobox>
</DocCanvas>

### Button Trigger (select-only)
The button trigger renders as a button-like element instead of a text input. This is perfect for select-only scenarios where users choose from a dropdown without typing.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="combobox-trigger-button" label="Favorite Animal" placeholder="Select an animal" trigger="button" mode="select-only">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="combobox-trigger-button" label="Favorite Animal" placeholder="Select an animal" trigger="button" mode="select-only">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="combobox-trigger-button" label="Favorite Animal" placeholder="Select an animal" trigger="button" mode="select-only">
    <option value="cat">Cat</option>
    <option value="dog">Dog</option>
    <option value="panda">Panda</option>
    <option value="snake">Snake</option>
  </pds-combobox>
</DocCanvas>

### Chip Trigger (select-only)
The chip trigger renders as a chip component instead of a text input or button. This provides a more compact, tag-like appearance perfect for select-only scenarios where you want the trigger to look like a chip.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="chip-draft" label="Status" trigger="chip" mode="select-only" value="draft">
  <option value="draft" chip-sentiment="neutral" chip-dot="true">Draft</option>
  <option value="published" chip-sentiment="success" chip-dot="true">Published</option>
  <option value="archived" chip-sentiment="warning" chip-dot="true">Archived</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="chip-draft" label="Status" trigger="chip" mode="select-only" value="draft">
  <option value="draft" chip-sentiment="neutral" chip-dot="true">Draft</option>
  <option value="published" chip-sentiment="success" chip-dot="true">Published</option>
  <option value="archived" chip-sentiment="warning" chip-dot="true">Archived</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="chip-draft" label="Status" trigger="chip" mode="select-only" value="draft">
    <option value="draft" chip-sentiment="neutral" chip-dot="true">Draft</option>
    <option value="published" chip-sentiment="success" chip-dot="true">Published</option>
    <option value="archived" chip-sentiment="warning" chip-dot="true">Archived</option>
  </pds-combobox>
</DocCanvas>

### Chip with Icon
Add an icon to the chip trigger for better visual context using the automatic approach:

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="chip-icon-auto" label="Priority Level" trigger="chip" mode="select-only" value="high">
  <option value="low" chip-sentiment="info" chip-icon="info-circle">Low</option>
  <option value="medium" chip-sentiment="warning" chip-icon="warning">Medium</option>
  <option value="high" chip-sentiment="danger" chip-icon="warning">High</option>
  <option value="critical" chip-sentiment="danger" chip-icon="danger">Critical</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="chip-icon-auto" label="Priority Level" trigger="chip" mode="select-only" value="high">
  <option value="low" chip-sentiment="info" chip-icon="info-circle">Low</option>
  <option value="medium" chip-sentiment="warning" chip-icon="warning">Medium</option>
  <option value="high" chip-sentiment="danger" chip-icon="warning">High</option>
  <option value="critical" chip-sentiment="danger" chip-icon="danger">Critical</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="chip-icon-auto" label="Priority Level" trigger="chip" mode="select-only" value="high">
    <option value="low" chip-sentiment="info" chip-icon="info-circle">Low</option>
    <option value="medium" chip-sentiment="warning" chip-icon="warning">Medium</option>
    <option value="high" chip-sentiment="danger" chip-icon="warning">High</option>
    <option value="critical" chip-sentiment="danger" chip-icon="danger">Critical</option>
  </pds-combobox>
</DocCanvas>

## Preselected Options

The combobox supports preselecting options using the `value` property on the combobox component. This approach is consistent with other form components and works well with frameworks like React.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="combobox-preselected-value" label="Favorite Animal" placeholder="Select an animal" trigger="button" mode="select-only" value="panda">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="combobox-preselected-value" label="Favorite Animal" placeholder="Select an animal" trigger="button" mode="select-only" value="panda">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="combobox-preselected-value" label="Favorite Animal" placeholder="Select an animal" trigger="button" mode="select-only" value="panda">
    <option value="cat">Cat</option>
    <option value="dog">Dog</option>
    <option value="panda">Panda</option>
    <option value="snake">Snake</option>
  </pds-combobox>
</DocCanvas>

### Preselection with Input Trigger

Preselection also works with input triggers, showing the selected option's text in the input field:

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="combobox-preselected-input" label="Favorite Color" placeholder="Type to search..." mode="filter" trigger="input" value="blue">
  <option value="red">Red</option>
  <option value="blue">Blue</option>
  <option value="green">Green</option>
  <option value="yellow">Yellow</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="combobox-preselected-input" label="Favorite Color" placeholder="Type to search..." mode="filter" trigger="input" value="blue">
  <option value="red">Red</option>
  <option value="blue">Blue</option>
  <option value="green">Green</option>
  <option value="yellow">Yellow</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="combobox-preselected-input" label="Favorite Color" placeholder="Type to search..." mode="filter" trigger="input" value="blue">
    <option value="red">Red</option>
    <option value="blue">Blue</option>
    <option value="green">Green</option>
    <option value="yellow">Yellow</option>
  </pds-combobox>
</DocCanvas>

### Important Notes

- **Value vs. Display Text**: When using the `value` property, provide the option's `value` attribute (e.g., `value="panda"`), not the display text. The combobox will automatically show the corresponding option's text content (e.g., "Panda").
- **Form Integration**: Preselected options work seamlessly with forms and will be included in form submissions.
- **Dynamic Updates**: The `value` property can be updated programmatically to change the selection at runtime.

## Sizing and Positioning

You can control the dropdown's placement, width, and height, as well as the trigger width using the following props:

- `dropdownPlacement`: 'bottom-start' | 'bottom-end' | 'top-start' | 'top-end' (default: 'bottom-start')
- `dropdownWidth`: Any valid CSS width value (default: '236px')
- `triggerWidth`: Any valid CSS width value for both input and button triggers (default: 'fit-content')
- `max-height`: Any valid CSS height value (e.g., '200px', '10rem') to limit dropdown height with scrolling

### Custom Placement
You can control where the dropdown appears relative to the trigger element. This example shows the dropdown aligned to the right edge (`bottom-end`).

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="combobox-placement-end" label="Favorite Animal" placeholder="Select an animal" trigger="button" trigger-variant="secondary" mode="select-only" dropdown-placement="bottom-end">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="combobox-placement-end" label="Favorite Animal" placeholder="Select an animal" trigger="button" trigger-variant="secondary" mode="select-only" dropdown-placement="bottom-end">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="combobox-placement-end" label="Favorite Animal" placeholder="Select an animal" trigger="button" trigger-variant="secondary" mode="select-only" dropdown-placement="bottom-end">
    <option value="cat">Cat</option>
    <option value="dog">Dog</option>
    <option value="panda">Panda</option>
    <option value="snake">Snake</option>
  </pds-combobox>
</DocCanvas>

### Custom Dropdown Width
The dropdown width can be customized using any valid CSS width value. This example sets the dropdown to 300px wide.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="combobox-width-custom" label="Favorite Animal" placeholder="Select an animal" trigger="button" trigger-variant="secondary" mode="select-only" dropdown-width="300px">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="combobox-width-custom" label="Favorite Animal" placeholder="Select an animal" trigger="button" trigger-variant="secondary" mode="select-only" dropdown-width="300px">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="combobox-width-custom" label="Favorite Animal" placeholder="Select an animal" trigger="button" trigger-variant="secondary" mode="select-only" dropdown-width="300px">
    <option value="cat">Cat</option>
    <option value="dog">Dog</option>
    <option value="panda">Panda</option>
    <option value="snake">Snake</option>
  </pds-combobox>
</DocCanvas>

### Custom Trigger Width
The trigger width can be customized for both input and button triggers using any valid CSS width value. This example sets the button trigger to 300px wide.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="combobox-trigger-width-custom" label="Favorite Animal" placeholder="Select an animal" trigger="button" trigger-variant="secondary" mode="select-only" trigger-width="300px">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="combobox-trigger-width-custom" label="Favorite Animal" placeholder="Select an animal" trigger="button" triggerVariant="secondary" mode="select-only" triggerWidth="300px">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="combobox-trigger-width-custom" label="Favorite Animal" placeholder="Select an animal" trigger="button" trigger-variant="secondary" mode="select-only" trigger-width="300px">
    <option value="cat">Cat</option>
    <option value="dog">Dog</option>
    <option value="panda">Panda</option>
    <option value="snake">Snake</option>
  </pds-combobox>
</DocCanvas>

The `triggerWidth` prop also works with input triggers. This example shows an input trigger set to 280px wide.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="combobox-input-width-custom" label="Favorite Animal" placeholder="Type to search..." trigger="input" trigger-width="280px">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="combobox-input-width-custom" label="Favorite Animal" placeholder="Type to search..." trigger="input" triggerWidth="280px">
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="combobox-input-width-custom" label="Favorite Animal" placeholder="Type to search..." trigger="input" trigger-width="280px">
    <option value="cat">Cat</option>
    <option value="dog">Dog</option>
    <option value="panda">Panda</option>
    <option value="snake">Snake</option>
  </pds-combobox>
</DocCanvas>

### Custom Max Height
When dealing with long lists of options, you can set a maximum height for the dropdown. This example limits the dropdown to 200px height - when there are more options than can fit, users can scroll through them.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="combobox-max-height" label="Choose a Country" placeholder="Select a country" trigger="button" trigger-variant="secondary" mode="select-only" max-height="200px">
  <option value="us">United States</option>
  <option value="ca">Canada</option>
  <option value="mx">Mexico</option>
  <option value="uk">United Kingdom</option>
  <option value="de">Germany</option>
  <option value="fr">France</option>
  <option value="it">Italy</option>
  <option value="es">Spain</option>
  <option value="jp">Japan</option>
  <option value="kr">South Korea</option>
  <option value="cn">China</option>
  <option value="au">Australia</option>
  <option value="br">Brazil</option>
  <option value="ar">Argentina</option>
  <option value="in">India</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="combobox-max-height" label="Choose a Country" placeholder="Select a country" trigger="button" triggerVariant="secondary" mode="select-only" maxHeight="200px">
  <option value="us">United States</option>
  <option value="ca">Canada</option>
  <option value="mx">Mexico</option>
  <option value="uk">United Kingdom</option>
  <option value="de">Germany</option>
  <option value="fr">France</option>
  <option value="it">Italy</option>
  <option value="es">Spain</option>
  <option value="jp">Japan</option>
  <option value="kr">South Korea</option>
  <option value="cn">China</option>
  <option value="au">Australia</option>
  <option value="br">Brazil</option>
  <option value="ar">Argentina</option>
  <option value="in">India</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="combobox-max-height" label="Choose a Country" placeholder="Select a country" trigger="button" trigger-variant="secondary" mode="select-only" max-height="200px">
    <option value="us">United States</option>
    <option value="ca">Canada</option>
    <option value="mx">Mexico</option>
    <option value="uk">United Kingdom</option>
    <option value="de">Germany</option>
    <option value="fr">France</option>
    <option value="it">Italy</option>
    <option value="es">Spain</option>
    <option value="jp">Japan</option>
    <option value="kr">South Korea</option>
    <option value="cn">China</option>
    <option value="au">Australia</option>
    <option value="br">Brazil</option>
    <option value="ar">Argentina</option>
    <option value="in">India</option>
  </pds-combobox>
</DocCanvas>

## Hidden Label

For cases where the combobox doesn't need a visible label (such as in compact layouts or when the context is clear), you can use the `hideLabel` prop. The label remains accessible to screen readers for accessibility.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox component-id="combobox-hidden-label" label="Favorite Animal" placeholder="Select an animal" trigger="button" trigger-variant="secondary" mode="select-only" hide-label>
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</pds-combobox>`,
    react: `<PdsCombobox componentId="combobox-hidden-label" label="Favorite Animal" placeholder="Select an animal" trigger="button" triggerVariant="secondary" mode="select-only" hideLabel>
  <option value="cat">Cat</option>
  <option value="dog">Dog</option>
  <option value="panda">Panda</option>
  <option value="snake">Snake</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox component-id="combobox-hidden-label" label="Favorite Animal" placeholder="Select an animal" trigger="button" trigger-variant="secondary" mode="select-only" hide-label>
    <option value="cat">Cat</option>
    <option value="dog">Dog</option>
    <option value="panda">Panda</option>
    <option value="snake">Snake</option>
  </pds-combobox>
</DocCanvas>


## Layout Support

The combobox supports custom layouts for both the button trigger and dropdown options, enabling rich content like the payment method selector shown in your design.

> **ðŸ”’ Security Warning**: Only use custom layouts with trusted, developer-controlled content. While basic XSS protection is applied (script tags, event handlers, and dangerous protocols are removed), you should never use this feature with user-generated content.

### Combined Custom Trigger and Option Layouts

For the most dynamic experience, combine both `customTriggerContent` and `customOptionLayouts`. The trigger will start with your custom slot content and then update to show the selected option's layout.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<div style={{ width: '100%' }}>
    <pds-combobox
      component-id="combobox-combined-custom"
      custom-trigger-content="true"
      custom-option-layouts="true"
      label="Payment Method"
      trigger="button"
      trigger-variant="secondary"
      trigger-width="500px"
      mode="select-only"
      dropdown-width="400px"
      on-pds-combobox-change={(e) => console.log(e.detail.value)}
    >
      <pds-box
        align-items="center"
        class="payment-trigger-layout"
        gap="sm"
        slot="trigger-content"
      >
        <pds-box
          align-items="center"
          align-self="center"
          background-color="var(--pine-color-grey-200)"
          border-radius="md"
          flex="shrink"
          gap="sm"
          justify-content="center"
          min-height="48px"
          min-width="48px"
        >
          <pds-icon icon="ban" color="var(--pine-color-text-neutral)"></pds-icon>
        </pds-box>
        <pds-box class="option-content" direction="column">
          <pds-text size="md" weight="semibold" class="option-title">Payment Method</pds-text>
          <pds-text size="sm" class="option-description"> payment option.</pds-text>
        </pds-box>
        <pds-icon icon="caret-down"></pds-icon>
      </pds-box>

      <option value="" data-layout data-search-text="None">
        <pds-box class="payment-option-layout">
          <pds-box
            align-items="center"
            align-self="center"
            background-color="var(--pine-color-grey-200)"
            border-radius="md"
            flex="shrink"
            gap="sm"
            justify-content="center"
            min-height="48px"
            min-width="48px"
          >
            <pds-icon icon="ban" color="var(--pine-color-text-neutral)"></pds-icon>
          </pds-box>
          <pds-box class="option-content" direction="column">
            <pds-text size="md" weight="semibold" class="option-title">None</pds-text>
            <pds-text size="sm" class="option-description">No debit/credit card payments</pds-text>
          </pds-box>
        </pds-box>
      </option>
      <option value="stripe" data-layout data-search-text="Stripe credit card payment">
        <pds-box class="payment-option-layout">
          <pds-box
            align-items="center"
            align-self="center"
            background-color="var(--pine-color-green-200)"
            border-radius="md"
            flex="shrink"
            gap="sm"
            justify-content="center"
            min-height="48px"
            min-width="48px"
          >
            <pds-icon icon="card-stripe"></pds-icon>
          </pds-box>
          <pds-box class="option-content" direction="column">
            <pds-text size="md" weight="semibold" class="option-title">Stripe</pds-text>
            <pds-text size="sm" class="option-description">Accept debit/credit cards through Stripe.</pds-text>
          </pds-box>
        </pds-box>
      </option>
      <option value="paypal" data-layout data-search-text="PayPal digital payments">
        <pds-box class="payment-option-layout">
          <pds-box
            align-items="center"
            align-self="center"
            background-color="var(--pine-color-green-200)"
            border-radius="md"
            flex="shrink"
            gap="sm"
            justify-content="center"
            min-height="48px"
            min-width="48px"
          >
            <pds-icon icon="card-paypal"></pds-icon>
          </pds-box>
          <pds-box class="option-content" direction="column">
            <pds-text size="md" weight="semibold" class="option-title">PayPal</pds-text>
            <pds-text size="sm" class="option-description">Accept payments through PayPal.</pds-text>
          </pds-box>
        </pds-box>
      </option>
    </pds-combobox>
  </div>`,
    react: `<div style={{ width: '100%' }}>
    <PdsCombobox
      componentId="combobox-combined-custom"
      customTriggerContent="true"
      customOptionLayouts="true"
      label="Payment Method"
      trigger="button"
      triggerVariant="secondary"
      triggerWidth="500px"
      mode="select-only"
      dropdownWidth="400px"
      onPdsComboboxChange={(e) => console.log(e.detail.value)}
    >
      <PdsBox
        alignItems="center"
        className="payment-trigger-layout"
        gap="sm"
        slot="triggerContent"
      >
        <PdsBox
          alignItems="center"
          alignSelf="center"
          backgroundColor="var(--pine-color-grey-200)"
          borderRadius="md"
          flex="shrink"
          gap="sm"
          justifyContent="center"
          minHeight="48px"
          minWidth="48px"
        >
          <PdsIcon icon="ban" color="var(--pine-color-text-neutral)"></PdsIcon>
        </PdsBox>
        <PdsBox className="option-content" direction="column">
          <PdsText size="md" weight="semibold" className="option-title">Payment Method</PdsText>
          <PdsText size="sm" className="option-description"> payment option.</PdsText>
        </PdsBox>
        <PdsIcon icon="caret-down"></PdsIcon>
      </PdsBox>

      <option value="" data-layout data-search-text="None">
        <PdsBox className="payment-option-layout">
          <PdsBox
            alignItems="center"
            alignSelf="center"
            backgroundColor="var(--pine-color-grey-200)"
            borderRadius="md"
            flex="shrink"
            gap="sm"
            justifyContent="center"
            min-height="48px"
            min-width="48px"
          >
            <PdsIcon icon="ban" color="var(--pine-color-text-neutral)"></PdsIcon>
          </PdsBox>
          <PdsBox className="option-content" direction="column">
            <PdsText size="md" weight="semibold" className="option-title">None</PdsText>
            <PdsText size="sm" className="option-description">No debit/credit card payments</PdsText>
          </PdsBox>
        </PdsBox>
      </option>
      <option value="stripe" data-layout data-search-text="Stripe credit card payment">
        <PdsBox className="payment-option-layout">
          <PdsBox
            alignItems="center"
            alignSelf="center"
            backgroundColor="var(--pine-color-green-200)"
            borderRadius="md"
            flex="shrink"
            gap="sm"
            justifyContent="center"
            minHeight="48px"
            minWidth="48px"
          >
            <PdsIcon icon="card-stripe"></PdsIcon>
          </PdsBox>
          <PdsBox className="option-content" direction="column">
            <PdsText size="md" weight="semibold" className="option-title">Stripe</PdsText>
            <PdsText size="sm" className="option-description">Accept debit/credit cards through Stripe.</PdsText>
          </PdsBox>
        </PdsBox>
      </option>
      <option value="paypal" data-layout data-search-text="PayPal digital payments">
        <PdsBox className="payment-option-layout">
          <PdsBox
            alignItems="center"
            alignSelf="center"
            backgroundColor="var(--pine-color-green-200)"
            borderRadius="md"
            flex="shrink"
            gap="sm"
            justifyContent="center"
            minHeight="48px"
            minWidth="48px"
          >
            <PdsIcon icon="card-paypal"></PdsIcon>
          </PdsBox>
          <PdsBox className="option-content" direction="column">
            <PdsText size="md" weight="semibold" className="option-title">PayPal</PdsText>
            <PdsText size="sm" className="option-description">Accept payments through PayPal.</PdsText>
          </PdsBox>
        </PdsBox>
      </option>
    </PdsCombobox>
  </div>`,
  }}
>
  <div style={{ width: '100%' }}>
    <pds-combobox
      component-id="combobox-combined-custom"
      custom-trigger-content="true"
      custom-option-layouts="true"
      label="Payment Method"
      trigger="button"
      trigger-variant="secondary"
      trigger-width="500px"
      mode="select-only"
      dropdown-width="400px"
      on-pds-combobox-change={(e) => console.log(e.detail.value)}
    >
      <pds-box
        align-items="center"
        class="payment-trigger-layout"
        gap="sm"
        slot="trigger-content"
      >
        <pds-box
          align-items="center"
          align-self="center"
          background-color="var(--pine-color-grey-200)"
          border-radius="md"
          flex="shrink"
          gap="sm"
          justify-content="center"
          min-height="48px"
          min-width="48px"
        >
          <pds-icon icon="ban" color="var(--pine-color-text-neutral)"></pds-icon>
        </pds-box>
        <pds-box class="option-content" direction="column">
          <pds-text size="md" weight="semibold" class="option-title">Payment Method</pds-text>
          <pds-text size="sm" class="option-description"> payment option.</pds-text>
        </pds-box>
        <pds-icon icon="caret-down"></pds-icon>
      </pds-box>

      <option value="" data-layout data-search-text="None">
        <pds-box class="payment-option-layout" align-items="center" gap="sm">
          <pds-box
            align-items="center"
            align-self="center"
            background-color="var(--pine-color-grey-200)"
            border-radius="md"
            flex="shrink"
            gap="sm"
            justify-content="center"
            min-height="48px"
            min-width="48px"
          >
            <pds-icon icon="ban" color="var(--pine-color-text-neutral)"></pds-icon>
          </pds-box>
          <pds-box class="option-content" direction="column">
            <pds-text size="md" weight="semibold" class="option-title">None</pds-text>
            <pds-text size="sm" class="option-description">No debit/credit card payments</pds-text>
          </pds-box>
        </pds-box>
      </option>
      <option value="stripe" data-layout data-search-text="Stripe credit card payment">
        <pds-box class="payment-option-layout" align-items="center" gap="sm">
          <pds-box
            align-items="center"
            align-self="center"
            background-color="var(--pine-color-green-200)"
            border-radius="md"
            flex="shrink"
            gap="sm"
            justify-content="center"
            min-height="48px"
            min-width="48px"
          >
            <pds-icon icon="card-stripe"></pds-icon>
          </pds-box>
          <pds-box class="option-content" direction="column">
            <pds-text size="md" weight="semibold" class="option-title">Stripe</pds-text>
            <pds-text size="sm" class="option-description">Accept debit/credit cards through Stripe.</pds-text>
          </pds-box>
        </pds-box>
      </option>
      <option value="paypal" data-layout data-search-text="PayPal digital payments">
        <pds-box class="payment-option-layout" align-items="center" gap="sm">
          <pds-box
            align-items="center"
            align-self="center"
            background-color="var(--pine-color-green-200)"
            border-radius="md"
            flex="shrink"
            gap="sm"
            justify-content="center"
            min-height="48px"
            min-width="48px"
          >
            <pds-icon icon="card-paypal"></pds-icon>
          </pds-box>
          <pds-box class="option-content" direction="column">
            <pds-text size="md" weight="semibold" class="option-title">PayPal</pds-text>
            <pds-text size="sm" class="option-description">Accept payments through PayPal.</pds-text>
          </pds-box>
        </pds-box>
      </option>
    </pds-combobox>
  </div>
</DocCanvas>

### Layout Best Practices

When using custom layouts:

1. **Use semantic HTML**: Structure your layout with proper headings and content hierarchy
2. **Include search text**: Add `data-search-text` attribute to layout options for filtering
3. **Maintain accessibility**: Ensure custom content is screen reader accessible
4. **Keep it simple**: Don't overcomplicate layouts - focus on essential information
5. **Test thoroughly**: Verify keyboard navigation and screen reader compatibility

## Group Labels

The combobox supports organizing options with group labels using either HTML `<optgroup>` elements or `<pds-text>` components. Group labels help categorize related options and improve the user experience when dealing with long lists.

### Using Optgroup

Use standard HTML `<optgroup>` elements to create semantic groupings:

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox
  component-id="combobox-optgroup-example"
  label="Select Animal"
  placeholder="Choose an animal"
  trigger="button"
  trigger-variant="secondary"
  mode="select-only">
  <optgroup label="Mammals">
    <option value="cat">Cat</option>
    <option value="dog">Dog</option>
    <option value="elephant">Elephant</option>
  </optgroup>
  <optgroup label="Birds">
    <option value="eagle">Eagle</option>
    <option value="parrot">Parrot</option>
    <option value="penguin">Penguin</option>
  </optgroup>
  <optgroup label="Fish">
    <option value="salmon">Salmon</option>
    <option value="shark">Shark</option>
    <option value="tuna">Tuna</option>
  </optgroup>
</pds-combobox>`,
    react: `<PdsCombobox
  componentId="combobox-optgroup-example"
  label="Select Animal"
  placeholder="Choose an animal"
  trigger="button"
  triggerVariant="secondary"
  mode="select-only">
  <optgroup label="Mammals">
    <option value="cat">Cat</option>
    <option value="dog">Dog</option>
    <option value="elephant">Elephant</option>
  </optgroup>
  <optgroup label="Birds">
    <option value="eagle">Eagle</option>
    <option value="parrot">Parrot</option>
    <option value="penguin">Penguin</option>
  </optgroup>
  <optgroup label="Fish">
    <option value="salmon">Salmon</option>
    <option value="shark">Shark</option>
    <option value="tuna">Tuna</option>
  </optgroup>
</PdsCombobox>`,
  }}
>
  <pds-combobox
    component-id="combobox-optgroup-example"
    label="Select Animal"
    placeholder="Choose an animal"
    trigger="button"
    trigger-variant="secondary"
    mode="select-only">
    <optgroup label="Mammals">
      <option value="cat">Cat</option>
      <option value="dog">Dog</option>
      <option value="elephant">Elephant</option>
    </optgroup>
    <optgroup label="Birds">
      <option value="eagle">Eagle</option>
      <option value="parrot">Parrot</option>
      <option value="penguin">Penguin</option>
    </optgroup>
    <optgroup label="Fish">
      <option value="salmon">Salmon</option>
      <option value="shark">Shark</option>
      <option value="tuna">Tuna</option>
    </optgroup>
  </pds-combobox>
</DocCanvas>

### Using PDS Text Components

Alternatively, use `<pds-text>` components as group labels for more styling control:

> **Note**: The `pds-text` element serves as a non-interactive group header. Users cannot select these labels - they only organize and categorize the selectable options below them.

<DocCanvas client:only
  mdxSource={{
    webComponent: `<pds-combobox
  component-id="combobox-pds-text-example"
  label="Select Product"
  placeholder="Choose a product"
  trigger="button"
  trigger-variant="primary"
  mode="select-only">
  <pds-text color="secondary">Software</pds-text>
  <option value="ide">IDE</option>
  <option value="editor">Code Editor</option>
  <option value="compiler">Compiler</option>
  <pds-text color="secondary">Hardware</pds-text>
  <option value="laptop">Laptop</option>
  <option value="monitor">Monitor</option>
  <option value="keyboard">Keyboard</option>
  <pds-text color="secondary">Services</pds-text>
  <option value="hosting">Web Hosting</option>
  <option value="domain">Domain Registration</option>
  <option value="ssl">SSL Certificate</option>
</pds-combobox>`,
    react: `<PdsCombobox
  componentId="combobox-pds-text-example"
  label="Select Product"
  placeholder="Choose a product"
  trigger="button"
  triggerVariant="primary"
  mode="select-only">
  <PdsText color="secondary">Software</PdsText>
  <option value="ide">IDE</option>
  <option value="editor">Code Editor</option>
  <option value="compiler">Compiler</option>
  <PdsText color="secondary">Hardware</PdsText>
  <option value="laptop">Laptop</option>
  <option value="monitor">Monitor</option>
  <option value="keyboard">Keyboard</option>
  <PdsText color="secondary">Services</PdsText>
  <option value="hosting">Web Hosting</option>
  <option value="domain">Domain Registration</option>
  <option value="ssl">SSL Certificate</option>
</PdsCombobox>`,
  }}
>
  <pds-combobox
    component-id="combobox-pds-text-example"
    label="Select Product"
    placeholder="Choose a product"
    trigger="button"
    trigger-variant="primary"
    mode="select-only">
    <pds-text color="secondary">Software</pds-text>
    <option value="ide">IDE</option>
    <option value="editor">Code Editor</option>
    <option value="compiler">Compiler</option>
    <pds-text color="secondary">Hardware</pds-text>
    <option value="laptop">Laptop</option>
    <option value="monitor">Monitor</option>
    <option value="keyboard">Keyboard</option>
    <pds-text color="secondary">Services</pds-text>
    <option value="hosting">Web Hosting</option>
    <option value="domain">Domain Registration</option>
    <option value="ssl">SSL Certificate</option>
  </pds-combobox>
</DocCanvas>

### Group Labels Best Practices

When using group labels:

1. **Keep labels concise**: Use short, descriptive labels that clearly categorize the options
2. **Maintain logical grouping**: Group related options together in a way that makes sense to users
3. **Consider filtering behavior**: Group labels are preserved when filtering, but only groups with matching options will be shown
4. **Use consistent styling**: Choose either `<optgroup>` or `<pds-text>` consistently within a single combobox
5. **Test accessibility**: Ensure group labels work well with screen readers and keyboard navigation

### ARIA and Accessibility Considerations

Both `<optgroup>` and `<pds-text>` group labels are rendered as presentational items in the dropdown:

- **`<optgroup>` elements**: Provide semantic grouping that is meaningful to screen readers. The `label` attribute is announced by assistive technology, helping users understand the relationship between options and their categories.
- **`<pds-text>` elements**: Serve as visual group headers but are purely presentational. They do not provide semantic grouping information to screen readers.

**Recommendation**: Use `<optgroup>` when semantic grouping is important for accessibility and screen reader users. Use `<pds-text>` when you only need visual organization without semantic meaning.

## Form Integration

`pds-combobox` is a <pds-link href="https://developer.mozilla.org/en-US/docs/Web/API/ElementInternals/formAssociated" external>form-associated custom element</pds-link>. This means the component participates in `<form>` submission just like native `<select>` / `<input>` controls.

- Provide a `name` attribute so the selected value is included in `FormData`. Without `name`, the control is ignored during submission.
- The submitted value always matches the option's `value` attribute, even when a custom layout/chip trigger is used.
- `mode="filter"` behaves like an `<input>` plus `<datalist>`: users can type new text, but the submitted value will still be one of the predefined options.
- `mode="select-only"` works closer to a `<select>`: typing is disabled for button/chip triggers, and only explicit option values can be submitted.
- Update the `value` prop to control the selection from a parent component (React state, framework store, etc.). The component automatically syncs the input text/trigger label to match the selected option.


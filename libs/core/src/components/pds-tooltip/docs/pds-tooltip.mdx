import { DocArgsTable, DocCanvas } from '@pine-ds/doc-components';
import { components } from '../../../../dist/docs.json';

# Tooltip

Tooltips display helpful popup text when users hover over or keyboard focus on an element.

## Guidelines

#### When to use
- Use tooltips to provide additional context for elements like buttons or icons where extra explanation is helpful but not essential.
- Ideal for non-essential information that enhances understanding without cluttering the interface.

#### When not to use
- Avoid using tooltips for critical information that users need for task completion. Essential information should be visible at all times.

## Properties

<DocArgsTable componentName="pds-tooltip" docSource={components} />

## Examples

### Trigger
Whether your trigger is text or an HTML element, it will be placed in the default slot between the opening and closing tags.

<DocCanvas client:only
  mdxSource={{
    react: `
      <PdsTooltip content="this is tooltip content" hasArrow="true" placement="bottom-start">
        text
      </PdsTooltip>
      <PdsTooltip content="this is tooltip content" hasArrow="true" placement="right-start">
        <PdsButton variant="secondary">Button</pds-button>
      </PdsTooltip>
    `,
    webComponent: `
      <pds-tooltip content="this is tooltip content" has-arrow="true" placement="bottom-start">
        text
      </pds-tooltip>
      <pds-tooltip content="this is tooltip content" has-arrow="true" placement="right-start">
        <pds-button variant="secondary">Button</pds-button>
      </pds-tooltip>
    `
}}>
  <pds-tooltip content="this is tooltip content" has-arrow="true" placement="bottom-start">
    text
  </pds-tooltip>
  <pds-tooltip content="this is tooltip content" has-arrow="true" placement="right-start">
    <pds-button variant="secondary">Button</pds-button>
  </pds-tooltip>
</DocCanvas>

### Content
#### Text Content
Text-based content is generated using the `content` prop. Use this option only when the
tooltip content is expected to be a string.

<DocCanvas client:only
  mdxSource={{
    react: '<PdsTooltip content="this is tooltip content" hasArrow="true" placement="right">text</PdsTooltip>',
    webComponent: '<pds-tooltip content="this is tooltip content" has-arrow="true" placement="right">text</pds-tooltip>'
  }}>
  <pds-tooltip content="this is tooltip content" has-arrow="true" placement="right">text</pds-tooltip>
</DocCanvas>

#### HTML Element Content

Tooltip content may contain HTML elements. In these cases,
enable the `htmlContent` property and provide your element in the `content` slot.

<DocCanvas client:only
  mdxSource={{
    react: `
      <PdsTooltip htmlContent="true" hasArrow="true" placement="right">
        text
        <div slot="content">
          <p>this is a sentence in a tooltip.</p>
          <p>this is a sentence in a tooltip.</p>
        </div>
      </PdsTooltip>
    `,
    webComponent: `
      <pds-tooltip html-content="true" has-arrow="true" placement="right">
        text
        <div slot="content">
          <p>this is a sentence in a tooltip.</p>
          <p>this is a sentence in a tooltip.</p>
        </div>
      </pds-tooltip>
    `
}}>
  <pds-tooltip html-content="true" has-arrow="true" placement="right">
    text
    <div slot="content">
      <p>this is a sentence in a tooltip.</p>
      <p>this is a sentence in a tooltip.</p>
    </div>
  </pds-tooltip>
</DocCanvas>

### Positioning
Use the `placement` prop to control where the tooltip appears. It automatically flips when space is insufficient and shifts to stay within viewport bounds.

#### Basic Positions
<DocCanvas client:only
  mdxSource={{
    react: `
      <div style={{display: 'flex', gap: '20px', alignItems: 'center', flexWrap: 'wrap'}}>
        <PdsTooltip content="Top placement" placement="top">
          <PdsButton variant="secondary">Top</PdsButton>
        </PdsTooltip>
        <PdsTooltip content="Right placement" placement="right">
          <PdsButton variant="secondary">Right</PdsButton>
        </PdsTooltip>
        <PdsTooltip content="Bottom placement" placement="bottom">
          <PdsButton variant="secondary">Bottom</PdsButton>
        </PdsTooltip>
        <PdsTooltip content="Left placement" placement="left">
          <PdsButton variant="secondary">Left</PdsButton>
        </PdsTooltip>
      </div>
    `,
    webComponent: `
      <div style="display: flex; gap: 20px; align-items: center; flex-wrap: wrap;">
        <pds-tooltip content="Top placement" placement="top">
          <pds-button variant="secondary">Top</pds-button>
        </pds-tooltip>
        <pds-tooltip content="Right placement" placement="right">
          <pds-button variant="secondary">Right</pds-button>
        </pds-tooltip>
        <pds-tooltip content="Bottom placement" placement="bottom">
          <pds-button variant="secondary">Bottom</pds-button>
        </pds-tooltip>
        <pds-tooltip content="Left placement" placement="left">
          <pds-button variant="secondary">Left</pds-button>
        </pds-tooltip>
      </div>
    `
}}>
  <div style={{display: 'flex', gap: '20px', alignItems: 'center', flexWrap: 'wrap'}}>
    <pds-tooltip content="Top placement" placement="top">
      <pds-button variant="secondary">Top</pds-button>
    </pds-tooltip>
    <pds-tooltip content="Right placement" placement="right">
      <pds-button variant="secondary">Right</pds-button>
    </pds-tooltip>
    <pds-tooltip content="Bottom placement" placement="bottom">
      <pds-button variant="secondary">Bottom</pds-button>
    </pds-tooltip>
    <pds-tooltip content="Left placement" placement="left">
      <pds-button variant="secondary">Left</pds-button>
    </pds-tooltip>
  </div>
</DocCanvas>

#### Aligned Positions
You can also specify start and end alignments for more precise positioning:

<DocCanvas client:only
  mdxSource={{
    react: `
      <div style={{display: 'flex', gap: '15px', alignItems: 'center', flexWrap: 'wrap'}}>
        <PdsTooltip content="Top start alignment" placement="top-start">
          <PdsButton variant="secondary">Top Start</PdsButton>
        </PdsTooltip>
        <PdsTooltip content="Top end alignment" placement="top-end">
          <PdsButton variant="secondary">Top End</PdsButton>
        </PdsTooltip>
        <PdsTooltip content="Bottom start alignment" placement="bottom-start">
          <PdsButton variant="secondary">Bottom Start</PdsButton>
        </PdsTooltip>
        <PdsTooltip content="Bottom end alignment" placement="bottom-end">
          <PdsButton variant="secondary">Bottom End</PdsButton>
        </PdsTooltip>
      </div>
    `,
    webComponent: `
      <div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
        <pds-tooltip content="Top start alignment" placement="top-start">
          <pds-button variant="secondary">Top Start</pds-button>
        </pds-tooltip>
        <pds-tooltip content="Top end alignment" placement="top-end">
          <pds-button variant="secondary">Top End</pds-button>
        </pds-tooltip>
        <pds-tooltip content="Bottom start alignment" placement="bottom-start">
          <pds-button variant="secondary">Bottom Start</pds-button>
        </pds-tooltip>
        <pds-tooltip content="Bottom end alignment" placement="bottom-end">
          <pds-button variant="secondary">Bottom End</pds-button>
        </pds-tooltip>
      </div>
    `
}}>
  <div style={{display: 'flex', gap: '15px', alignItems: 'center', flexWrap: 'wrap'}}>
    <pds-tooltip content="Top start alignment" placement="top-start">
      <pds-button variant="secondary">Top Start</pds-button>
    </pds-tooltip>
    <pds-tooltip content="Top end alignment" placement="top-end">
      <pds-button variant="secondary">Top End</pds-button>
    </pds-tooltip>
    <pds-tooltip content="Bottom start alignment" placement="bottom-start">
      <pds-button variant="secondary">Bottom Start</pds-button>
    </pds-tooltip>
    <pds-tooltip content="Bottom end alignment" placement="bottom-end">
      <pds-button variant="secondary">Bottom End</pds-button>
    </pds-tooltip>
  </div>
</DocCanvas>

#### Smart Positioning
The tooltip automatically adjusts its position when there's not enough space. Try hovering over these buttons near the edges of your screen:

<DocCanvas client:only
  mdxSource={{
    react: `
      <div style={{display: 'flex', gap: '15px', alignItems: 'center', flexWrap: 'wrap'}}>
        <PdsTooltip content="This tooltip will flip to stay visible when near screen edges" placement="right">
          <PdsButton variant="secondary">Smart Flip</PdsButton>
        </PdsTooltip>
        <PdsTooltip content="This tooltip shifts to stay within viewport bounds" placement="top">
          <PdsButton variant="secondary">Smart Shift</PdsButton>
        </PdsTooltip>
      </div>
    `,
    webComponent: `
      <div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
        <pds-tooltip content="This tooltip will flip to stay visible when near screen edges" placement="right">
          <pds-button variant="secondary">Smart Flip</pds-button>
        </pds-tooltip>
        <pds-tooltip content="This tooltip shifts to stay within viewport bounds" placement="top">
          <pds-button variant="secondary">Smart Shift</pds-button>
        </pds-tooltip>
      </div>
    `
}}>
  <div style={{display: 'flex', gap: '15px', alignItems: 'center', flexWrap: 'wrap'}}>
    <pds-tooltip content="This tooltip will flip to stay visible when near screen edges" placement="right">
      <pds-button variant="secondary">Smart Flip</pds-button>
    </pds-tooltip>
    <pds-tooltip content="This tooltip shifts to stay within viewport bounds" placement="top">
      <pds-button variant="secondary">Smart Shift</pds-button>
    </pds-tooltip>
  </div>
</DocCanvas>


### No Arrow
By default the arrow is visible but it can be hidden by disabling it when `has-arrow` is `false`.

<DocCanvas client:only
  mdxSource={{
    react: '<PdsTooltip content="this is tooltip content" hasArrow="false" placement="right">text</PdsTooltip>',
    webComponent: '<pds-tooltip content="this is tooltip content" has-arrow="false" placement="right">text</pds-tooltip>'
}}>
  <pds-tooltip content="this is tooltip content" has-arrow="false" placement="right">text</pds-tooltip>
</DocCanvas>


### Width/Sizing
The `max-width` prop lets you adjust the maximum width of the tooltip content. The default is 352px, but you can pass a different pixel value.

<DocCanvas client:only
  mdxSource={{
    react: '<PdsTooltip content="This is long tooltip content to demonstrate how the max-width can be used to expand or narrow the width of the tooltip content to fit one\'s use case and content needs. This example uses 520px to create a bit more width for this amount of content." maxWidth="520px" placement="right">text</PdsTooltip>',
    webComponent: '<pds-tooltip content="This is long tooltip content to demonstrate how the max-width can be used to expand or narrow the width of the tooltip content to fit one\'s use case and content needs. This example uses 520px to create a bit more width for this amount of content." max-width="520px" placement="right">text</pds-tooltip>'
}}>
  <pds-tooltip content="This is long tooltip content to demonstrate how the max-width can be used to expand or narrow the width of the tooltip content to fit one's use case and content needs. This example uses 520px to create a bit more width for this amount of content." max-width="520px" placement="right">text</pds-tooltip>
</DocCanvas>

## Technical Notes

- The trigger element receives `aria-describedby` referencing an ID that the component creates. Provide meaningful button/link labels so the tooltip content is read *after* the control name. When combining multiple tooltips on the same control, set `aria-describedby` manually to avoid duplication.
- Tooltips do not announce themselves automatically because they use `aria-live="off"`. Reserve tooltips for purely supplemental information and display critical validation or blocking instructions inline.
- Use the `opened` property when the tooltip should persist for longer than a hover/focus interaction (for example, guided tours). Because `opened` reflects as an attribute, you can also toggle it declaratively via frameworks or CSS selectors.
- Call the public methods `showTooltip()` and `hideTooltip()` for advanced interactions (focus trapping, commanded display, or analytics). These methods return a promise that resolves once the visibility state changes.
- When `html-content="true"`, avoid placing focusable elements inside the `content` slot. Tooltips are not intended for interactive elements. If you require buttons or links, switch to `<pds-popover>`, which manages focus and dismissal affordances.

```tsx
// React example showing imperative control
const FieldWithTooltip = () => {
  const tooltipRef = useRef<HTMLPdsTooltipElement>(null);

  return (
    <PdsTooltip
      ref={tooltipRef}
      content="Passwords must be at least 16 characters."
      placement="right"
    >
      <PdsButton
        variant="secondary"
        onFocus={() => tooltipRef.current?.showTooltip()}
        onBlur={() => tooltipRef.current?.hideTooltip()}
      >
        Password help
      </PdsButton>
    </PdsTooltip>
  );
};
```

```html
<!-- Vanilla JS -->
<pds-tooltip id="status-tooltip" opened="false" content="Synced 2 minutes ago">
  <pds-icon-button icon="info" aria-label="Sync status"></pds-icon-button>
</pds-tooltip>

<script type="module">
  const tooltip = document.getElementById('status-tooltip');
  const icon = tooltip.querySelector('pds-icon-button');
  icon.addEventListener('mouseenter', () => tooltip.showTooltip());
  icon.addEventListener('mouseleave', () => tooltip.hideTooltip());
</script>
```

## Additional Resources

[W3 Aria Tooltip Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/tooltip/)

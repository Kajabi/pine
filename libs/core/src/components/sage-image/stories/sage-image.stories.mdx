import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { html, render } from 'lit-html';

import { extractArgTypes } from '@pxtrn/storybook-addon-docs-stencil';

<Meta title="webcomponents/Image" component="sage-image" argTypes={extractArgTypes('sage-image')} />

export const Template = (args) => html` <sage-image
  alt="${args.alt}"
  height="${args.height}"
  loading="${args.loading}"
  sizes="${args.sizes}"
  src="${args.src}"
  srcset="${args.srcset}"
  width="${args.width}"
/>`;
export const SizesAndSrcset = (args) => html`<sage-image alt="${args.alt}" sizes="${args.sizes}" src="${args.src}" srcset="${args.srcset}" />`;

# Image

An image can be used to convey supplemental information to the user or as decoration.

## Guidelines

### Accessibility

All images, regardless of use, must have an appropriate alt text to describe the image for screen reader users. If the image only provides visual decoration to the page, be sure to add `alt=""` so that screen readers will properly skip over the element. For more information on how to properly use alt text for images, please refer to the [alt decision tree](https://www.w3.org/WAI/tutorials/images/decision-tree/).

### Responsiveness

For more responsive images, be sure to take advantage of the `srcset` and `sizes` props. These are native attributes on the `<img>` tag that allow for greater flexbility across device sizes. A `srcset` allows the browser to choose from a set of predefined images and what sizes those images are. The `sizes` prop will tell the browser to use a specific image defined in the `srcset` to be used within a defined set of media queries. For more information, please see the MDN article on [responsive images](https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images).

## Properties

<ArgsTable of="sage-image" />

### Default

A default image with a `src` and `alt`.

<Canvas>
  <Story name="Default" args={{ alt: 'Random Unsplash', src: '//source.unsplash.com/320x180' }}>
    {Template.bind()}
  </Story>
</Canvas>

### Sizes and Srcset

An image with `srcset` and `sizes` props set. Refresh the browser at `400px` and below and the browser will select the smaller image to render.

<Canvas>
  <Story
    name="Sizes and Srcset"
    args={{
      alt: 'Random Unsplash',
      sizes: '(max-width: 450px) 150px, 600px',
      src: '//source.unsplash.com/600x200',
      srcset: '//source.unsplash.com/150x150 400w, //source.unsplash.com/600x200',
    }}
  >
    {SizesAndSrcset.bind()}
  </Story>
</Canvas>

## References

[MDN: Image](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img)

[HTML Standard: Image](https://html.spec.whatwg.org/multipage/images.html)

import { Meta, Canvas, ArgTypes } from '@storybook/blocks';

import * as stories from './pds-switch.stories.js';

<Meta of={stories} />

# Switch

Checkbox or radio component styled to appear as a toggle.

## Guidelines

### Usage

- Radio Switches require a shared `name` for grouping.
- Specify a unique `component-id` and `value` for **each** Radio variant. This will ensure the label and radio group selection (respectively) are correctly identified.
- Use caution when enabling both `checked` and `disabled` on a control. Clearly describe why this item cannot be unselected.
- `sageSwitchChange` is a custom event emitted on input change. View the browser console on this page for an example.

#### Checkbox or Radio?

When only one Switch is needed for users to turn on/off a value, use a `checkbox`. [From MDN:](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/radio)
  > Note: Checkboxes are similar to radio buttons, but with an important distinction: radio buttons are designed for selecting one value out of a set, whereas checkboxes let you turn individual values on and off. Where multiple controls exist, radio buttons allow one to be selected out of them all, whereas checkboxes allow multiple values to be selected.

### Accessibility

- The component will [append `aria-describedby` to the input](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-describedby) when an `error-message` is included.
- With screen readers, the `error-message` using `aria-describedby` will be read *after* the label. Consider reading the combined error message and label out loud to ensure instructions are clear to the user.

## Properties

<ArgTypes of={stories} />

## Variants

### Checkbox (Default)

The default switch style uses a checkbox input.

<Canvas mdxSource={`
<pds-switch
  component-id="pds-switch-default-example"
  label="Default Switch"
  name="pds-switch-default"
  type="checkbox"
/>
`}>
  <div>
    <pds-switch
      component-id="pds-switch-default-example"
      label="Default Switch"
      name="pds-switch-default"
      type="checkbox"
    />
  </div>
</Canvas>


### Radio

Renders a switch using a radio button input. Just like a [standard radio button](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/radio), toggling a single value on/off requires (at minimum) a pair of inputs to represent each state.

<Canvas mdxSource={`
<pds-switch
  component-id="pds-switch-radio-example"
  label="Radio Switch"
  name="pds-switch-radio"
  type="radio"
  value="pds-switch-radio"
/>
`}>
  <>
    <pds-switch
      component-id="pds-switch-radio-example"
      label="Radio Switch"
      name="pds-switch-radio"
      type="radio"
      value="pds-switch-radio"
    />
  </>
</Canvas>

### Disabled

Prevents user interaction on the input.

<Canvas mdxSource={`
<pds-switch
  component-id="pds-switch-disabled-example"
  disabled="true"
  label="Can't touch this"
  name="pds-switch-disabled"
  type="checkbox"
/>
`}>
  <>
    <pds-switch
      component-id="pds-switch-disabled-example"
      disabled="true"
      label="Can't touch this"
      name="pds-switch-disabled"
      type="checkbox"
    />
  </>
</Canvas>

### Helper message

Displays additional descriptive text underneath the main label.

<Canvas mdxSource={`
<pds-switch
  component-id="pds-switch-helper-example"
  helper-message="Save my login details for next time."
  label="Remember me"
  name="pds-switch-helper"
  type="checkbox"
/>
`}>
  <>
    <pds-switch
      component-id="pds-switch-helper-example"
      helper-message="Save my login details for next time."
      label="Remember me"
      name="pds-switch-helper"
      type="checkbox"
    />
  </>
</Canvas>

### Invalid state

An optional error message can be displayed for additional instructions, displayed independently from the helper message.

<Canvas mdxSource={`
<pds-switch
  component-id="pds-switch-invalid-example"
  error-message="Terms and conditions must be accepted to continue"
  invalid="true"
  label="I agree to the terms and conditions"
  name="pds-switch-invalid"
  required="true"
  type="checkbox"
/>
`}>
  <>
    <pds-switch
      component-id="pds-switch-invalid-example"
      error-message="Terms and conditions must be accepted to continue"
      invalid="true"
      label="I agree to the terms and conditions"
      name="pds-switch-invalid"
      required="true"
      type="checkbox"
    />
  </>
</Canvas>

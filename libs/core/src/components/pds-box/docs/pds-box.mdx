import { DocArgsTable, DocCanvas } from '@pine-ds/doc-components';
import { components } from '../../../../dist/docs.json';

# Box

Box is our primitive layout component. It is intended to be used as a building block for more complex layouts. It allows for custom sizing, colors, padding, and alignment while still adhering to Pine tokens and brand guidelines. The component uses logical properties for margin and padding, making it adaptable to different writing modes and languages.

### Logical Properties
The Box component uses CSS logical properties for layout and spacing, which means properties are defined relative to the content's writing direction rather than physical directions. This makes the component more adaptable to different writing modes and languages.

CSS was initially designed with only physical coordinates (top, bottom, left, right). The logical properties and values module defines flow-relative equivalents for many values and properties. Properties that once only accepted physical values now also accept flow-relative logical values (block-start, block-end, inline-start, inline-end).

Logical properties use two main concepts:
- **Block**: The dimension perpendicular to the flow of text (vertical in horizontal writing modes, horizontal in vertical writing modes)
- **Inline**: The dimension parallel to the flow of text (horizontal in horizontal writing modes, vertical in vertical writing modes)

For example:
- In left-to-right languages (like English):
  - Block = vertical (top/bottom)
  - Inline = horizontal (left/right)
- In right-to-left languages (like Arabic):
  - Block = vertical (top/bottom)
  - Inline = horizontal (right/left)
- In vertical writing modes (like Japanese):
  - Block = horizontal (left/right)
  - Inline = vertical (top/bottom)

This approach ensures that your layouts will work correctly regardless of the text direction or writing mode.

## Usage Notes

### Layout Essentials

Items flow horizontally by default, so you'll need to explicitly set `direction="column"` for vertical stacking. This is the most common consideration when working with Box components.

### Direction: When to Use Column vs Row

> **ü§ñ LLM Direction Rules:** Choose based on how you want **direct children** to arrange:

#### Use `direction="column"` (Vertical Stacking) When:
- **Stacking content vertically** (headings, paragraphs, buttons)
- **Creating page sections** (hero, content, footer)
- **Building forms** (label, input, label, input)
- **Making card layouts** (image, title, description, actions)
- **Creating main containers** (usually with `fit="true"`)

```tsx
// ‚úÖ Correct: Vertical content stacking
<pds-box direction="column">
  <h1>Page Title</h1>
  <p>Description</p>
  <pds-button>Action</pds-button>
</pds-box>
```

#### Use `direction="row"` (Horizontal Flow) - DEFAULT When:
- **Placing items side by side** (buttons, badges, icons)
- **Creating navigation bars** (logo, menu items, user profile)
- **Building toolbars** (action buttons in a row)
- **Making inline layouts** (icon + text, multiple form fields)
- **This is the DEFAULT** - no need to specify

```tsx
// ‚úÖ Correct: Horizontal items (default behavior)
<pds-box>
  <pds-button>Save</pds-button>
  <pds-button variant="secondary">Cancel</pds-button>
</pds-box>
```

#### ‚ùå Common LLM Mistakes:
```tsx
// DON'T: Using row direction for stacked content
<pds-box direction="row">  // ‚ùå Will place items side by side
  <h1>Title</h1>
  <p>This will be next to the title, not below it</p>
</pds-box>

// DON'T: Using column direction for side-by-side items
<pds-box direction="column">  // ‚ùå Will stack items vertically
  <pds-button>Save</pds-button>
  <pds-button>Cancel</pds-button>  // Will be below Save, not next to it
</pds-box>
```

### Layout Patterns

- **Horizontal Flow (Default)**: Items are placed side by side - good for buttons, navigation
- **Vertical Stacking**: Set `direction="column"` for content that should stack - good for pages, cards, forms
- **Main Containers**: Use `direction="column"` and `fit="true"` for page sections and main content areas
- **Grid Layout**: Use inside `pds-row` with `size-*` props for responsive grid

### Direction Examples

**Column Direction (Vertical Stacking):**

<DocCanvas client:only
  mdxSource={{
    react: `<PdsBox direction="column" border="true" padding="md">
  <h3>Page Title</h3>
  <p>This is a description that appears below the title.</p>
  <PdsBox gap="sm">
    <PdsButton>Primary Action</PdsButton>
    <PdsButton variant="secondary">Secondary</PdsButton>
  </PdsBox>
</PdsBox>`,
    webComponent: `<pds-box direction="column" border="true" padding="md">
  <h3>Page Title</h3>
  <p>This is a description that appears below the title.</p>
  <pds-box gap="sm">
    <pds-button>Primary Action</pds-button>
    <pds-button variant="secondary">Secondary</pds-button>
  </pds-box>
</pds-box>`
}}>
  <pds-box direction="column" border="true" padding="md">
    <h3>Page Title</h3>
    <p>This is a description that appears below the title.</p>
    <pds-box gap="sm">
      <pds-button>Primary Action</pds-button>
      <pds-button variant="secondary">Secondary</pds-button>
    </pds-box>
  </pds-box>
</DocCanvas>

**Row Direction (Horizontal Flow - Default):**

<DocCanvas client:only
  mdxSource={{
    react: `<PdsBox border="true" padding="md" align-items="center" gap="sm">
  <PdsIcon name="info" />
  <span>Status message</span>
  <PdsButton size="sm">Action</PdsButton>
</PdsBox>`,
    webComponent: `<pds-box border="true" padding="md" align-items="center" gap="sm">
  <pds-icon name="info"></pds-icon>
  <span>Status message</span>
  <pds-button size="sm">Action</pds-button>
</pds-box>`
}}>
  <pds-box border="true" padding="md" align-items="center" gap="sm">
    <pds-icon name="info"></pds-icon>
    <span>Status message</span>
    <pds-button size="sm">Action</pds-button>
  </pds-box>
</DocCanvas>

### Key Props for Layout

- `direction`: Controls item orientation (`row` = horizontal, `column` = vertical)
- `size`: Sets column width (1-12 grid system, works best inside pds-row)
- `gap`: Controls spacing between items
- `justify-content`: Horizontal alignment of items
- `align-items`: Vertical alignment of items

### Working with PDS-Row

> **‚ö†Ô∏è KEY LAYOUT RULE:** When `pds-box` is inside `pds-row`, it becomes a **grid column**. When `pds-box` is standalone, it becomes a **flexbox container**.

**Inside pds-row (Grid Column Mode):**
- Use `size` props (1-12) to control column widths
- The default `direction="row"` works well for grid layouts
- **DON'T use flex props** - they are ignored in grid mode
- The box becomes a grid column within the row

**Standalone (Flexbox Container Mode):**
- Default `direction="row"` creates horizontal flow
- Set `direction="column"` for vertical stacking
- **DO use flex props** - they work for child boxes
- Size props have limited effect outside of pds-row

## Properties

<DocArgsTable componentName="pds-box" docSource={components} />

## Variants

### `border`
By default Box has no border. Use `border` to add a border to the box. Use `border-color` to change the color of the border. Use `border-radius` to change the rounding of the box's corners.

<DocCanvas client:only
  mdxSource={{
    react: `<PdsBox border="true">Border</PdsBox>`,
    webComponent: `<pds-box border="true">Border</pds-box>`
}}>
  <pds-box border="true">Border</pds-box>
</DocCanvas>

### Border Color
Please refer to the color brand guidelines for the appropriate color to use. Use `border-color` to change the color of the border. Accepts any valid color token or CSS color value.

<DocCanvas client:only
  mdxSource={{
    react: `<PdsBox border="true">Border Color</PdsBox>
<PdsBox border="true" border-color="#0072EF">Border Color</PdsBox>
<PdsBox border="true" border-color="#CF3C32">Border Color</PdsBox>
<PdsBox border="true" border-color="#FFC505">Border Color</PdsBox>`,
    webComponent: `<pds-box border="true">Border Color</pds-box>
<pds-box border="true" border-color="#0072EF">Border Color</pds-box>
<pds-box border="true" border-color="#CF3C32">Border Color</pds-box>
<pds-box border="true" border-color="#FFC505">Border Color</pds-box>`
}}>
  <pds-box border="true">Border Color</pds-box>
  <pds-box border="true" border-color="#0072EF">Border Color</pds-box>
  <pds-box border="true" border-color="#CF3C32">Border Color</pds-box>
  <pds-box border="true" border-color="#FFC505">Border Color</pds-box>
</DocCanvas>

### Border Radius
By default Box has no border radius. Use `border-radius` to change the rounding of the box's corners.

<DocCanvas client:only
  mdxSource={{
    react: `<PdsBox border="true" border-radius="xs">xs border radius</PdsBox>
<PdsBox border="true" border-radius="sm">sm border radius</PdsBox>
<PdsBox border="true" border-radius="md">md border radius</PdsBox>
<PdsBox border="true" border-radius="lg">lg border radius</PdsBox>`,
    webComponent: `<pds-box border="true" border-radius="xs">xs border radius</pds-box>
<pds-box border="true" border-radius="sm">sm border radius</pds-box>
<pds-box border="true" border-radius="md">md border radius</pds-box>
<pds-box border="true" border-radius="lg">lg border radius</pds-box>`
}}>
  <pds-box border="true" border-radius="xs">xs border radius</pds-box>
  <pds-box border="true" border-radius="sm">sm border radius</pds-box>
  <pds-box border="true" border-radius="md">md border radius</pds-box>
  <pds-box border="true" border-radius="lg">lg border radius</pds-box>
</DocCanvas>

### Shadow
By default Box has no shadow. Use `shadow` to add a shadow to the box.

<DocCanvas client:only
  mdxSource={{
    react: `<PdsBox shadow="xs">Shadow xs</PdsBox>
<PdsBox shadow="sm">Shadow sm</PdsBox>
<PdsBox shadow="md">Shadow md</PdsBox>
<PdsBox shadow="lg">Shadow lg</PdsBox>`,
    webComponent: `<pds-box shadow="xs">Shadow xs</pds-box>
<pds-box shadow="sm">Shadow sm</pds-box>
<pds-box shadow="md">Shadow md</pds-box>
<pds-box shadow="lg">Shadow lg</pds-box>`
}}>
  <pds-box shadow="xs">Shadow xs</pds-box>
  <pds-box shadow="sm">Shadow sm</pds-box>
  <pds-box shadow="md">Shadow md</pds-box>
  <pds-box shadow="lg">Shadow lg</pds-box>
</DocCanvas>

### Margin
By default Box has no margin. Use `margin` to add margin around the box.

<DocCanvas client:only
  mdxSource={{
    react: `<PdsBox border="true" marginBlockStart="xxs">Margin Block Start xxs</PdsBox>
<PdsBox border="true" marginBlockEnd="xs">Margin Block End xs</PdsBox>
<PdsBox border="true" marginInlineStart="sm">Margin Inline Start sm</PdsBox>
<PdsBox border="true" marginInlineEnd="md">Margin Inline End md</PdsBox>`,
    webComponent: `<pds-box border="true" margin-block-start="xxs">Margin Block Start xxs</pds-box>
<pds-box border="true" margin-block-end="xs">Margin Block End xs</pds-box>
<pds-box border="true" margin-inline-start="sm">Margin Inline Start sm</pds-box>
<pds-box border="true" margin-inline-end="md">Margin Inline End md</pds-box>
<pds-box border="true" margin="lg">Margin lg</pds-box>`
}}>
  <pds-box border="true" margin-block-start="xxs">Margin Block Start xxs</pds-box>
  <pds-box border="true" margin-block-end="xs">Margin Block End xs</pds-box>
  <pds-box border="true" margin-inline-start="sm">Margin Inline Start sm</pds-box>
  <pds-box border="true" margin-inline-end="md">Margin Inline End md</pds-box>
</DocCanvas>

> Note: Use `gap` in favor of `margin-*` whenever possible.

### Padding
By default Box has no padding. Use `padding` to add padding to the box.

<DocCanvas client:only
  mdxSource={{
    react: `<PdsBox border="true" padding="xxs">Padding xxs</PdsBox>
<PdsBox border="true" padding="xs">Padding xs</PdsBox>
<PdsBox border="true" padding="sm">Padding sm</PdsBox>
<PdsBox border="true" padding="md">Padding md</PdsBox>
<PdsBox border="true" padding="lg">Padding lg</PdsBox>
<PdsBox border="true" padding="xl">Padding xl</PdsBox>
<PdsBox border="true" padding="xxl">Padding xxl</PdsBox>`,
    webComponent: `<pds-box border="true" padding="xxs">Padding xxs</pds-box>
<pds-box border="true" padding="xs">Padding xs</pds-box>
<pds-box border="true" padding="sm">Padding sm</pds-box>
<pds-box border="true" padding="md">Padding md</pds-box>
<pds-box border="true" padding="lg">Padding lg</pds-box>
<pds-box border="true" padding="xl">Padding xl</pds-box>
<pds-box border="true" padding="xxl">Padding xxl</pds-box>`
}}>
  <pds-box border="true" padding="xxs">Padding xxs</pds-box>
  <pds-box border="true" padding="xs">Padding xs</pds-box>
  <pds-box border="true" padding="sm">Padding sm</pds-box>
  <pds-box border="true" padding="md">Padding md</pds-box>
  <pds-box border="true" padding="lg">Padding lg</pds-box>
  <pds-box border="true" padding="xl">Padding xl</pds-box>
  <pds-box border="true" padding="xxl">Padding xxl</pds-box>
</DocCanvas>

### Display
By default Box is `display: inline-flex`. Use `display` to change the display property `flex` if the box is intended to fill the entire row.

Layout impact:
- `flex`: Creates a flex container (default)
- `inline-flex`: Creates an inline flex container
- `block`: Creates a block-level container
- `inline-block`: Creates an inline-block container

### Direction
By default Box is `flex-direction: row`. Use `direction` to change the direction property `column` if the box's contents are intended to stack vertically.

Layout behavior:
- Default is `row`: Items flow horizontally by default
- For vertical stacking: Explicitly set `direction="column"`
- Common pattern: Use `direction="column"` when you want items to stack vertically
- Inside pds-row: The default `row` direction works well for grid layouts

<DocCanvas client:only
  mdxSource={{
    react: `<PdsBox border="true">
  <span>Item 1</span>
  <span>Item 2</span>
</PdsBox>
<PdsBox border="true" direction="column">
  <span>Item 1</span>
  <span>Item 2</span>
</PdsBox>`,
    webComponent: `<pds-box border="true">
  <span>Item 1</span>
  <span>Item 2</span>
</pds-box>
<pds-box border="true" direction="column">
  <span>Item 1</span>
  <span>Item 2</span>
</pds-box>`
}}>
  <pds-box border="true">
    <span>Item 1</span>
    <span>Item 2</span>
  </pds-box>
  <pds-box border="true" direction="column">
    <span>Item 1</span>
    <span>Item 2</span>
  </pds-box>
</DocCanvas>


### Align Items

Defines how items within the box are aligned.

Layout impact:
- `start`: Items align to the start (top for column, left for row)
- `center`: Items align to the center
- `end`: Items align to the end (bottom for column, right for row)
- `baseline`: Items align to their text baseline
- `stretch`: Items stretch to fill the container (default)

### Justify Content

Defines the horizontal alignment of the box items.

Layout impact:
- `start`: Items pack toward the start (left for row, top for column)
- `center`: Items pack toward the center
- `end`: Items pack toward the end (right for row, bottom for column)
- `space-between`: Items are evenly distributed with first at start, last at end
- `space-around`: Items are evenly distributed with equal space around them

### Size

Grid system:
- Uses a 12-column grid system
- Values range from 1-12 (e.g., `6` = 50% width, `12` = 100% width)
- Most effective when used inside `pds-row` containers
- Responsive variants available: `size-xs`, `size-sm`, `size-md`, `size-lg`, `size-xl`

### Flex
The `flex` prop controls how a box grows or shrinks within its container. It accepts both predefined values and custom CSS flex values.

> **‚ö†Ô∏è CRITICAL CONSTRAINT:** The `flex` prop **ONLY** works when the parent element is another `pds-box` component. It does **NOT** work when the parent is `pds-row` or other elements, as those components use different layout systems. Always ensure the immediate parent is a `pds-box` when using flex properties.

#### Predefined Values
- `none` - The box will not grow or shrink (equivalent to `flex: 0 0 auto`)
- `grow` - The box will grow to fill available space (equivalent to `flex: 1 1 0`)
- `shrink` - The box will shrink when space is limited (equivalent to `flex: 0 1 auto`)

<DocCanvas client:only
  mdxSource={{
    react: `<PdsBox>
  <PdsBox border="true" flex="none">Flex: none</PdsBox>
  <PdsBox border="true" flex="grow">Flex: grow</PdsBox>
  <PdsBox border="true" flex="shrink">Flex: shrink</PdsBox>
</PdsBox>`,
    webComponent: `<pds-box>
  <pds-box border="true" flex="none">Flex: none</pds-box>
  <pds-box border="true" flex="grow">Flex: grow</pds-box>
  <pds-box border="true" flex="shrink">Flex: shrink</pds-box>
</pds-box>`
}}>
  <pds-box>
    <pds-box border="true" flex="none">Flex: none</pds-box>
    <pds-box border="true" flex="grow">Flex: grow</pds-box>
    <pds-box border="true" flex="shrink">Flex: shrink</pds-box>
  </pds-box>
</DocCanvas>

#### Custom Flex Values
You can also provide custom CSS flex values as strings for precise control:

<DocCanvas client:only
  mdxSource={{
    react: `<PdsBox>
  <PdsBox border="true" flex="1">Flex: 1</PdsBox>
  <PdsBox border="true" flex="2">Flex: 2</PdsBox>
  <PdsBox border="true" flex="0 1 100px">Flex: 0 1 100px</PdsBox>
</PdsBox>`,
    webComponent: `<pds-box>
  <pds-box border="true" flex="1">Flex: 1</pds-box>
  <pds-box border="true" flex="2">Flex: 2</pds-box>
  <pds-box border="true" flex="0 1 100px">Flex: 0 1 100px</pds-box>
</pds-box>`
}}>
  <pds-box>
    <pds-box border="true" flex="1">Flex: 1</pds-box>
    <pds-box border="true" flex="2">Flex: 2</pds-box>
    <pds-box border="true" flex="0 1 100px">Flex: 0 1 100px</pds-box>
  </pds-box>
</DocCanvas>

Common custom flex patterns:
- `"1"`: Equal flex growth (equivalent to `flex: 1 1 0`)
- `"2"`: Grows twice as much as `flex="1"` items
- `"0 1 auto"`: No growth, can shrink, size based on content
- `"0 0 200px"`: Fixed 200px width, no grow/shrink

> **‚ö†Ô∏è REMINDER:** These flex properties only work when the immediate parent is a `pds-box` component, **NOT** when inside `pds-row` or other containers.

#### ‚ùå Incorrect Usage (Will NOT Work)
```tsx
// DON'T DO THIS - flex props are ignored inside pds-row
<pds-row>
  <pds-box flex="grow">This flex prop will be ignored</pds-box>
</pds-row>
```

#### ‚úÖ Correct Usage (Will Work)
```tsx
// DO THIS - flex props work inside another pds-box
<pds-box>
  <pds-box flex="grow">This flex prop will work</pds-box>
</pds-box>
```

### Layout Properties
`pds-box` not only allows for custom element properties, but it also allows for a flexible layout system. The layout system is based on the [CSS Flexbox specification](https://drafts.csswg.org/css-flexbox/) and can be view on the [Layouts](/docs/components-layout--docs) page

## Direction Troubleshooting

### Problem: Items Not Arranging as Expected

#### Issue: Content stacking when you want side-by-side
```tsx
// ‚ùå Problem: Buttons stack vertically instead of horizontally
<PdsBox direction="column">
  <PdsButton>Save</PdsButton>
  <PdsButton>Cancel</PdsButton>
</PdsBox>
```

**Solution:** Remove `direction="column"` or use `direction="row"` (default):
```tsx
// ‚úÖ Solution: Buttons appear side by side
<PdsBox>
  <PdsButton>Save</PdsButton>
  <PdsButton>Cancel</PdsButton>
</PdsBox>
```

#### Issue: Content appearing side-by-side when you want stacking
```tsx
// ‚ùå Problem: Title and text appear next to each other
<PdsBox>
  <h1>Page Title</h1>
  <p>Description text</p>
</PdsBox>
```

**Solution:** Add `direction="column"`:
```tsx
// ‚úÖ Solution: Title appears above description
<PdsBox direction="column">
  <h1>Page Title</h1>
  <p>Description text</p>
</PdsBox>
```

### Quick Decision Tree for LLMs:

> **ü§ñ Direction Decision Rules:**
> 1. **Are you building a page/card/form?** ‚Üí Use `direction="column"`
> 2. **Are you placing buttons/badges/icons together?** ‚Üí Use default (no direction needed)
> 3. **Are children meant to stack vertically?** ‚Üí Use `direction="column"`
> 4. **Are children meant to flow horizontally?** ‚Üí Use default (no direction needed)

## Responsive Sizing Strategies & Examples

The `pds-box` component uses a mobile-first approach to responsive sizing. This means that styles cascade up from smaller breakpoints to larger ones, unless overridden at a specific breakpoint.

### Understanding the Cascade

- The base `size` prop sets the default width that applies to all breakpoints unless overridden
- Breakpoint-specific props (`size-xs`, `size-sm`, etc.) override the base size at their respective breakpoints and larger
- Each breakpoint-specific prop overrides any sizes set by smaller breakpoint props

### Breakpoint Ranges

- XS: 0-575px
- SM: 576px and up
- MD: 768px and up
- LG: 992px and up
- XL: 1200px and up

### Common Patterns

#### Stacking on small screens, columns on larger screens

```html
<!-- Full width on mobile, half width on tablets and up -->
<pds-box size="12" size-md="6"></pds-box>

<!-- Full width on mobile, one-third width on tablets and up -->
<pds-box size="12" size-md="4"></pds-box>
```

#### Explicit full-width layout on small screens

```html
<!-- Explicit full width on mobile, different widths at different breakpoints -->
<pds-box size="12" size-sm="6" size-lg="4"></pds-box>
```

#### When to use/avoid the base `size` prop

If you want consistent sizing across all breakpoints:

```html
<!-- Same width across all breakpoints -->
<pds-box size="6"></pds-box>
```

If you need different sizes at different breakpoints:

```html
<!-- Different widths at different breakpoints -->
<pds-box size-sm="12" size-md="6" size-lg="4"></pds-box>
```

### Default Behavior

When no size props are provided, the box will use `flex-grow: 1` and `flex-basis: 0`, allowing it to grow and fill available space while maintaining equal widths with other flex items.

```html
<!-- These boxes will share available space equally -->
<pds-row>
  <pds-box></pds-box>
  <pds-box></pds-box>
</pds-row>
```


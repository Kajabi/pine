:host {
  --input-border-radius-default: var(--pine-border-radius-125);
  --input-box-shadow-focus: 0 0 0 2px var(--pine-color-blue-200);
  --input-box-shadow-focus-error: 0 0 0 2px var(--pine-color-red-200);

  --input-color-text-default: var(--pine-color-charcoal-500);
  --input-color-background-disabled: var(--pine-color-grey-100);
  --input-color-border-default: var(--pine-color-grey-400);
  --input-color-border-error: var(--pine-color-red-300);
  --input-color-border-hover: var(--pine-color-grey-500);
  --input-color-disabled-text: var(--pine-color-grey-500);
  --input-color-placeholder-text: var(--pine-color-charcoal-200);

  --input-font-size-helper-message: var(--pine-font-size-100);
  --input-font-size-input-field: var(--pine-font-size-100);
  --input-font-size-label: var(--pine-font-size-100);
  --input-font-weight-helper-message: var(--pine-font-weight-normal);
  --input-font-weight-input-field: var(--pine-font-weight-normal);
  --input-font-weight-label: var(--pine-font-weight-medium);

  --input-line-height-label: var(--pine-line-height-150);
  --input-line-height-helper-message: var(--pine-line-height-125);
  --input-line-height-input-field: var(--pine-line-height-150);

  --input-spacing-field-padding-block: var(--pine-spacing-100);
  --input-spacing-input-field-padding-inline: var(--pine-spacing-150);
  --input-spacing-label-margin-block-end: var(--pine-spacing-100);
  --input-spacing-margin-top-helper-message: var(--pine-spacing-100);

  --input-prefix-padding: var(--pine-spacing-150);
  --input-suffix-padding: var(--pine-spacing-150);

  display: inline;

  &::part(prefix-interactive) {
    border-inline-end: var(--pine-border-width-thin) solid var(--input-color-border-default);
  }

  &::part(suffix-interactive) {
    border-inline-start: var(--pine-border-width-thin) solid var(--input-color-border-default);
  }

  &::part(prefix-text) {
    background-color: var(--input-color-background-disabled);
    border-end-start-radius: var(--input-border-radius-default);
    border-inline-end: var(--pine-border-width-thin) solid var(--input-color-border-default);
    border-start-start-radius: var(--input-border-radius-default);
    color: var(--pine-color-charcoal-100);
    margin-inline-end: var(--input-spacing-input-field-padding-inline) !important;
  }

  &::part(suffix-text) {
    background-color: var(--input-color-background-disabled);
    border-end-end-radius: var(--input-border-radius-default);
    border-inline-start: var(--pine-border-width-thin) solid var(--input-color-border-default);
    border-start-end-radius: var(--input-border-radius-default);
    color: var(--pine-color-charcoal-100);
    margin-inline-start: var(--input-spacing-input-field-padding-inline) !important;
  }
}

.pds-input {
  display: flex;
  flex-direction: column;
}

label {
  font-size: var(--input-font-size-label);
  font-weight: var(--input-font-weight-label);
  line-height: var(--input-line-height-label);
}

.pds-input__required-indicator {
  color: var(--pine-color-red-300);
  font-weight: var(--pine-font-weight-medium);
}

.pds-input__label-wrapper {
  align-items: center;
  display: flex;
  gap: 8px;
  justify-content: space-between;
  margin-block-end: var(--input-spacing-label-margin-block-end);
}

.pds-input__label-meta {
  align-items: center;
  display: flex;
  gap: 4px;
}

slot[name=action] {
  margin-inline-start: auto;
}

.pds-input__prefix-wrapper {
  align-items: center;
  display: flex;
  grid-area: 1 / 1 / 2 / 2;
  height: 100%;
  order: 1;

  /* stylelint-disable-next-line selector-no-qualifying-type */
  slot[name=prefix] {
    align-items: center;
    display: flex;
    height: 100%;

    &::slotted(*) {
      align-items: center;
      display: flex;
      height: 100%;
      margin-inline-end: var(--input-spacing-input-field-padding-inline) !important;
      margin-inline-start: var(--input-spacing-input-field-padding-inline) !important;
    }

    &::slotted(:is(pds-button)) {
      --border-radius-default: var(--pine-border-radius-125) 0 0 var(--pine-border-radius-125);

      margin-inline-end: 0 !important;
      margin-inline-start: 0 !important;
    }

    &::slotted(:is(pds-icon)) {
      margin-inline-end: 0 !important;
    }
  }
}

.pds-input__suffix-wrapper {
  align-items: center;
  display: flex;
  grid-area: 1 / 3 / 2 / 4;
  height: 100%;

  /* stylelint-disable-next-line selector-no-qualifying-type */
  slot[name=suffix] {
    align-items: center;
    display: flex;
    height: 100%;

    &::slotted(*) {
      align-items: center;
      display: flex;
      height: 100%;
      margin-inline-end: var(--input-spacing-input-field-padding-inline) !important;
      margin-inline-start: var(--input-spacing-input-field-padding-inline) !important;
    }

    &::slotted(:is(pds-button)) {
      --border-radius-default: 0 var(--pine-border-radius-125) var(--pine-border-radius-125) 0;

      margin-inline-end: 0 !important;
      margin-inline-start: 0 !important;
    }

    &::slotted(:is(pds-icon)) {
      margin-inline-start: 0 !important;
    }
  }
}

.pds-input__form-control {
  align-items: center;
  border: 1px solid var(--input-color-border-default);
  border-radius: var(--input-border-radius-default);
  display: grid;
  grid-template-columns: max-content 1fr max-content;

  input {
    border: 0;
    border-radius: var(--input-border-radius-default);
    flex: 1;
    font-size: var(--input-font-size-input-field);
    font-weight: var(--input-font-weight-input-field);
    grid-area: 1 / 1 / 2 / 4;
    line-height: var(--input-line-height-input-field);
    padding: var(--input-spacing-field-padding-block) var(--input-spacing-input-field-padding-inline);

    padding-inline-end: var(--input-suffix-padding, var(--input-spacing-input-field-padding-inline));
    padding-inline-start: var(--input-prefix-padding, var(--input-spacing-input-field-padding-inline));


    &:focus {
      box-shadow: var(--input-box-shadow-focus);
      outline: none;
    }

    &:focus-visible {
      outline: 0;
    }
  }

  &:disabled {
    background-color: var(--input-color-background-disabled);
    color: var(--input-color-disabled-text);
    cursor: not-allowed;
  }

  &:hover {
    border-color: var(--input-color-border-hover);
  }

  /* stylelint-disable */
  &::-webkit-input-placeholder {
    color: var(--input-color-placeholder-text);
  }

  &::-moz-placeholder {
    color: var(--input-color-placeholder-text);
  }

  &::-moz-placeholder {
    color: var(--input-color-placeholder-text);
  }

  &:-ms-input-placeholder {
    color: var(--input-color-placeholder-text);
  }

  &:has(~.pds-input__error-message) {
    border-color: var(--input-color-border-error);

    &:focus-visible {
      box-shadow: var(--input-box-shadow-focus-error);
      outline: none;
    }
  }
  /* stylelint-enable */
}

.pds-input__error-message,
.pds-input__helper-message {
  font-size: var(--input-font-size-helper-message);
  font-weight: var(--input-font-weight-helper-message);
  line-height: var(--input-line-height-helper-message);
  margin-block-end: 0;
  margin-block-start: var(--input-spacing-margin-top-helper-message);
}

.pds-input__error-message {
  color: var(--input-color-error);
}

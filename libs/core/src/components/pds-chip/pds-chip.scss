:host {
  --box-shadow-focus: 0 0 0 1px #ffffff, 0 0 0 3px var(--pine-color-purple-300);

  --spacing-sm: calc(var(--pine-dimension-150) / 2);
  --spacing-lg: calc(var(--pine-dimension-250) / 2);
  --spacing-xl: var(--pine-dimension-150);
  --spacing-xxl: calc(var(--pine-dimension-350) / 2);

  --sizing-close: 10px;

  align-items: center;
  border-radius: var(--pine-dimension-sm);
  display: inline-flex;
  padding-block: var(--pine-dimension-2xs);
  padding-inline: var(--spacing-lg);
}

$pds-chip-sentiment: (
  accent: var(--pine-chip-color-accent),
  danger: var(--pine-chip-color-danger),
  info: var(--pine-chip-color-info),
  neutral: var(--pine-chip-color-neutral),
  success: var(--pine-chip-color-success),
  warning: var(--pine-chip-color-warning),
);

$pds-chip-sentiment-text: (
  accent: var(--pine-color-text-accent),
  danger: var(--pine-color-text-danger),
  info: var(--pine-color-text-info),
  neutral: var(--pine-color-text-neutral),
  success: var(--pine-color-text-sucess),
  warning: var(--pine-color-text-warning),
);

$pds-chip-sentiment-dots: (
  accent: var(--pine-chip-color-accent-dot),
  danger: var(--pine-chip-color-danger-dot),
  info: var(--pine-chip-color-info-dot),
  neutral: var(--pine-chip-color-neutral-dot),
  success: var(--pine-chip-color-success-dot),
  warning: var(--pine-chip-color-warning-dot),
);

$pds-chip-sentiment-hover: (
  accent: var(--pine-chip-color-accent-hover),
  danger: var(--pine-chip-color-danger-hover),
  info: var(--pine-chip-color-info-hover),
  neutral: var(--pine-chip-color-neutral-hover),
  success: var(--pine-chip-color-success-hover),
  warning: var(--pine-chip-color-warning-hover),
);

@each $sentiment, $value in $pds-chip-sentiment {
  :host(.pds-chip--#{$sentiment}) {
    background: $value;

    // dot colors
    .pds-chip__dot {
      /* stylelint-disable-next-line */
      background: map-get($pds-chip-sentiment-dots, $sentiment);
    }

    .pds-chip__label, .pds-chip__button {
      /* stylelint-disable-next-line */
      color: map-get($pds-chip-sentiment-text, $sentiment);
    }

    // tag close hover colors
    .pds-chip__close:hover {
      /* stylelint-disable-next-line */
      background: map-get($pds-chip-sentiment-hover, $sentiment);
    }
  }
  // dropdown hover colors
  :host(.pds-chip--#{$sentiment}.pds-chip--dropdown:hover) {
    /* stylelint-disable-next-line */
    background: map-get($pds-chip-sentiment-hover, $sentiment);
  }
}

.pds-chip__dot {
  border: 1px solid transparent;
  border-radius: 50%;
  display: inline-block;
  height: var(--pine-dimension-2xs);
  margin-block-end: var(--pine-dimension-025);
  margin-inline-end: var(--pine-dimension-2xs);
  width: var(--pine-dimension-2xs);
}

.pds-chip__label {
  font-size: var(--pine-font-size-body-md);
  font-weight: var(--pine-font-weight-medium);
}

// dropdown

:host(.pds-chip--dropdown) {
  padding: 0;

  .pds-chip__dot {
    margin-block-end: calc(var(--pine-dimension-025) / 4);
    margin-block-start: var(--pine-dimension-025);
  }
}

.pds-chip__button {
  align-items: center;
  appearance: none;
  background: transparent;
  border: 0;
  border-radius: var(--pine-dimension-sm);
  display: flex;
  font-weight: var(--pine-font-weight-medium);
  padding-block: var(--pine-dimension-2xs);
  padding-inline: var(--spacing-lg);

  &:focus-visible {
    box-shadow: var(--box-shadow-focus);
    outline: none;
  }

  pds-icon {
    margin-inline-end: calc(var(--pine-dimension-025) * -1);
    margin-inline-start: var(--pine-dimension-2xs);
  }
}

// tag

:host(.pds-chip--tag) {
  padding-block: var(--pine-dimension-025);
}

.pds-chip__close {
  appearance: none;
  background: transparent;
  border: 0;
  border-radius: 50%;
  height: var(--sizing-close);
  margin-inline-end: calc(var(--pine-dimension-xs) * -1);
  margin-inline-start: var(--pine-dimension-2xs);
  padding: var(--sizing-close);
  position: relative;
  width: var(--sizing-close);

  pds-icon {
    left: 50%;
    position: absolute;
    top: 50%;
    transform: translate(-50%, -50%);
  }

  &:focus-visible {
    box-shadow: var(--box-shadow-focus);
    outline: none;
  }
}

// large

:host(.pds-chip--large) {
  font-size: var(--pine-font-size-body-lg);
  padding-block: var(--spacing-sm);
  padding-inline: var(--spacing-xxl);

  &:host(.pds-chip--dropdown) {
    padding-block: var(--pine-dimension-2xs);
    padding-inline: var(--pine-dimension-025);

    .pds-chip__dot {
      margin-block-end: 0;
    }
  }

  .pds-chip__button {
    font-size: var(--pine-font-size-body-lg);
    padding-inline: var(--spacing-xl)
  }

  .pds-chip__close {
    height: var(--pine-dimension-md);
    margin-inline-end: calc(var(--spacing-xl) * -1);
    width: var(--pine-dimension-md);
  }

  &:host(.pds-chip--tag) {
    padding-block: var(--pine-dimension-2xs);
  }
}

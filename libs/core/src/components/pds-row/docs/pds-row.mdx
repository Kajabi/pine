import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as stories from '../stories/pds-row.stories.js';

import { DocArgsTable, DocCanvas } from '@pine-ds/doc-components';
import { components } from '../../../../dist/docs.json';


<Meta of={stories} />

# Row
`pds-row` is a flexbox-based grid system that allows you to create complex layouts with rows and columns. It is based on the 12 column grid system and is used to create horizontal rows that contain a set of columns.

## Properties

<DocArgsTable componentName="pds-row" docSource={components} />

## Usage Notes

### Grid Layout Essentials

The pds-row component creates a 12-column grid system for responsive layouts. It always maintains horizontal (row) direction and works best with pds-box children that have size props.

### Layout Patterns

- Grid Layout: Use with `pds-box` children that have `size-*` props (1-12)
- Responsive Grid: Use responsive size variants (e.g., `size-md="6"`)
- Equal Columns: Children without `size` props become equal-width columns
- Wrapping: Columns wrap to next line if total exceeds 12

### Key Props for Layout

- `col-gap`: Controls spacing between columns
- `justify-content`: Horizontal alignment of columns
- `align-items`: Vertical alignment of columns
- `no-wrap`: Prevents column wrapping

### Working with PDS-Box

> **CRITICAL:** `pds-row` transforms `pds-box` children into **grid columns**, not flexbox items. This changes how they behave.

**Grid Column Behavior Inside pds-row:**
- **REQUIRED:** Only `pds-box` components should be direct children
- **USE:** `size` props (1-12) for column width control
- **DEFAULT:** Children use `direction="row"` which works well in grid
- **LIMIT:** Total of all size props should not exceed 12 per row
- **FORBIDDEN:** Flex properties (`flex="grow"`, `flex="shrink"`, `flex="none"`, or custom values like `flex="1"`) are **ignored**

> **COMMON MISTAKE:** Using `flex` props on boxes inside `pds-row` won't work. Use `size` props instead.

### Common Patterns

- `size="6"` + `size="6"` = 50/50 split
- `size="4"` + `size="8"` = 33/67 split
- `size="3"` + `size="3"` + `size="6"` = 25/25/50 split

### Responsive Patterns

- `size-md="6"` + `size-md="6"` = 50/50 on medium+ screens
- `size-sm="12"` + `size-md="6"` = Full width on small, half on medium+

## Responsive Breakpoints

For detailed information about responsive breakpoints and how they work with the grid system, see the [Layout documentation](/docs/components-layout--docs#responsive-breakpoints).

## Variants

### Default
By default boxes with rows will be equal width if no size is specified.

<DocCanvas
  mdxSource={{
    react: `
      <PdsRow>
        <PdsBox>Item 1</PdsBox>
        <PdsBox direction="column">
          <p>Content 1</p>
          <p>Content 2</p>
        </PdsBox>
        <PdsBox>Item 3</PdsBox>
      </PdsRow>
    `,
    webComponent: `
      <pds-row>
        <pds-box>Item 1</pds-box>
        <pds-box direction="column">
          <p>Content 1</p>
          <p>Content 2</p>
        </pds-box>
        <pds-box>Item 3</pds-box>
      </pds-row>
    `
  }}>
  <pds-row>
    <pds-box>
      <pds-box border>Item 1</pds-box>
    </pds-box>
    <pds-box>
      <pds-box border direction="column">
        <p>Content 1</p>
        <p>Content 2</p>
      </pds-box>
    </pds-box>
    <pds-box>
      <pds-box border>Item 3</pds-box>
    </pds-box>
  </pds-row>
</DocCanvas>

### Wrapping
If the size values equal more than 12, the boxes will wrap to the next line.

<DocCanvas
  mdxSource={{
    react: `
      <PdsRow colGap="sm">
        <PdsBox sizeXs="4">
          <PdsBox border>size-xs 4</PdsBox>
        </PdsBox>
        <PdsBox sizeXs="10">
          <PdsBox border>size-xs 10</PdsBox>
        </PdsBox>
      </PdsRow>
    `,
    webComponent: `
      <pds-row col-gap="sm">
        <pds-box size-xs="4">
          <pds-box border>size-xs 4</pds-box>
        </pds-box>
        <pds-box size-xs="10">
          <pds-box border>size-xs 10</pds-box>
        </pds-box>
      </pds-row>
    `
}}>
  <pds-row col-gap="sm">
    <pds-box size-xs="4">
      <pds-box border>size-xs 4</pds-box>
    </pds-box>
    <pds-box size-xs="10">
      <pds-box border>size-xs 10</pds-box>
    </pds-box>
  </pds-row>
</DocCanvas>

### Align Items

Defines the vertical alignment of the row items.

Layout impact:
- `start`: Items align to the top of the row
- `center`: Items align to the center of the row
- `end`: Items align to the bottom of the row
- `baseline`: Items align to their text baseline
- `stretch`: Items stretch to fill the row height (default)

Best practice: Use with `min-height` for consistent vertical alignment

### Column Gap

The `pds-row` component provides flexible gap control with three different props for precise spacing management.

#### Gap Props Overview

- **`col-gap`**: Sets both horizontal and vertical spacing between items
- **`col-gap-inline`**: Sets only horizontal spacing between items (overrides `col-gap` for horizontal)
- **`col-gap-block`**: Sets only vertical spacing between items (overrides `col-gap` for vertical)

Available sizes: `none`, `xxs`, `xs`, `sm`, `md`, `lg`, `xl`, `xxl`

#### Basic Gap Usage

<DocCanvas
  mdxSource={{
    react: `
      <PdsRow colGap="md">
        <PdsBox sizeMd="4">
          <pds-box border>Column 1</pds-box>
        </PdsBox>
        <PdsBox sizeMd="4">
          <pds-box border>Column 2</pds-box>
        </PdsBox>
        <PdsBox sizeMd="4">
          <pds-box border>Column 3</pds-box>
        </PdsBox>
      </PdsRow>
    `,
    webComponent: `
      <pds-row col-gap="md">
        <pds-box size-md="4">
          <pds-box border>Column 1</pds-box>
        </pds-box>
        <pds-box size-md="4">
          <pds-box border>Column 2</pds-box>
        </pds-box>
        <pds-box size-md="4">
          <pds-box border>Column 3</pds-box>
        </pds-box>
      </pds-row>
    `
}}>
  <pds-row col-gap="md">
    <pds-box size-md="4">
      <pds-box border>Column 1</pds-box>
    </pds-box>
    <pds-box size-md="4">
      <pds-box border>Column 2</pds-box>
    </pds-box>
    <pds-box size-md="4">
      <pds-box border>Column 3</pds-box>
    </pds-box>
  </pds-row>
</DocCanvas>

#### Directional Gap Control

For more precise control, use `col-gap-inline` for horizontal spacing and `col-gap-block` for vertical spacing:

<DocCanvas
  mdxSource={{
    react: `
      <PdsRow colGapInline="lg" colGapBlock="xs">
        <PdsBox sizeMd="6">
          <pds-box border>Wide horizontal gap</pds-box>
        </PdsBox>
        <PdsBox sizeMd="6">
          <pds-box border>Between columns</pds-box>
        </PdsBox>
        <PdsBox sizeMd="4">
          <pds-box border>Small vertical gap</pds-box>
        </PdsBox>
        <PdsBox sizeMd="4">
          <pds-box border>When wrapping</pds-box>
        </PdsBox>
        <PdsBox sizeMd="4">
          <pds-box border>To next line</pds-box>
        </PdsBox>
      </PdsRow>
    `,
    webComponent: `
      <pds-row col-gap-inline="lg" col-gap-block="xs">
        <pds-box size-md="6">
          <pds-box border>Wide horizontal gap</pds-box>
        </pds-box>
        <pds-box size-md="6">
          <pds-box border>Between columns</pds-box>
        </pds-box>
        <pds-box size-md="4">
          <pds-box border>Small vertical gap</pds-box>
        </pds-box>
        <pds-box size-md="4">
          <pds-box border>When wrapping</pds-box>
        </pds-box>
        <pds-box size-md="4">
          <pds-box border>To next line</pds-box>
        </pds-box>
      </pds-row>
    `
}}>
  <pds-row col-gap-inline="lg" col-gap-block="xs">
    <pds-box size-md="6">
      <pds-box border>Wide horizontal gap</pds-box>
    </pds-box>
    <pds-box size-md="6">
      <pds-box border>Between columns</pds-box>
    </pds-box>
    <pds-box size-md="4">
      <pds-box border>Small vertical gap</pds-box>
    </pds-box>
    <pds-box size-md="4">
      <pds-box border>When wrapping</pds-box>
    </pds-box>
    <pds-box size-md="4">
      <pds-box border>To next line</pds-box>
    </pds-box>
  </pds-row>
</DocCanvas>

#### Gap Size Comparison

<DocCanvas
  mdxSource={{
    react: `
      <PdsBox direction="column" fit="true">
        <PdsText tag="h4">Small Gap (xs)</PdsText>
        <PdsRow colGap="xs">
          <PdsBox sizeMd="6"><pds-box border>Column A</pds-box></PdsBox>
          <PdsBox sizeMd="6"><pds-box border>Column B</pds-box></PdsBox>
        </PdsRow>

        <PdsText tag="h4">Medium Gap (md)</PdsText>
        <PdsRow colGap="md">
          <PdsBox sizeMd="6"><pds-box border>Column A</pds-box></PdsBox>
          <PdsBox sizeMd="6"><pds-box border>Column B</pds-box></PdsBox>
        </PdsRow>

        <PdsText tag="h4">Large Gap (xl)</PdsText>
        <PdsRow colGap="xl">
          <PdsBox sizeMd="6"><pds-box border>Column A</pds-box></PdsBox>
          <PdsBox sizeMd="6"><pds-box border>Column B</pds-box></PdsBox>
        </PdsRow>
      </PdsBox>
    `,
    webComponent: `
      <pds-box direction="column" fit="true">
        <pds-text tag="h4">Small Gap (xs)</pds-text>
        <pds-row col-gap="xs">
          <pds-box size-md="6"><pds-box border>Column A</pds-box></pds-box>
          <pds-box size-md="6"><pds-box border>Column B</pds-box></pds-box>
        </pds-row>

        <pds-text tag="h4">Medium Gap (md)</pds-text>
        <pds-row col-gap="md">
          <pds-box size-md="6"><pds-box border>Column A</pds-box></pds-box>
          <pds-box size-md="6"><pds-box border>Column B</pds-box></pds-box>
        </pds-row>

        <pds-text tag="h4">Large Gap (xl)</pds-text>
        <pds-row col-gap="xl">
          <pds-box size-md="6"><pds-box border>Column A</pds-box></pds-box>
          <pds-box size-md="6"><pds-box border>Column B</pds-box></pds-box>
        </pds-row>
      </pds-box>
    `
}}>
  <pds-box direction="column" fit="true">
    <pds-text tag="h4">Small Gap (xs)</pds-text>
    <pds-row col-gap="xs">
      <pds-box size-md="6"><pds-box border>Column A</pds-box></pds-box>
      <pds-box size-md="6"><pds-box border>Column B</pds-box></pds-box>
    </pds-row>

    <pds-text tag="h4">Medium Gap (md)</pds-text>
    <pds-row col-gap="md">
      <pds-box size-md="6"><pds-box border>Column A</pds-box></pds-box>
      <pds-box size-md="6"><pds-box border>Column B</pds-box></pds-box>
    </pds-row>

    <pds-text tag="h4">Large Gap (xl)</pds-text>
    <pds-row col-gap="xl">
      <pds-box size-md="6"><pds-box border>Column A</pds-box></pds-box>
      <pds-box size-md="6"><pds-box border>Column B</pds-box></pds-box>
    </pds-row>
  </pds-box>
</DocCanvas>

**Layout impact:**
- Controls the gap between columns in the grid
- Creates consistent spacing between all columns
- Works with both fixed-size and auto-width columns

**Best practice:** Use `md` or `lg` for comfortable spacing between content columns

#### When to Use Each Gap Prop

- **`col-gap`**: Use when you want uniform spacing in both directions (most common)
- **`col-gap-inline`**: Use when you need different horizontal spacing than vertical (e.g., wide columns, tight rows)
- **`col-gap-block`**: Use when you need different vertical spacing than horizontal (e.g., tight columns, spaced rows)

**Common Patterns:**
- **Cards Layout**: `col-gap="lg"` for even spacing
- **Form Layout**: `col-gap-inline="md" col-gap-block="sm"` for tighter vertical spacing
- **Navigation**: `col-gap-inline="lg"` with no vertical gap
- **Dense Grid**: `col-gap="xs"` for minimal spacing

### Justify Content

Layout impact:
- `start`: Columns pack toward the left (default)
- `center`: Columns pack toward the center
- `end`: Columns pack toward the right
- `space-between`: Columns are evenly distributed with first at start, last at end
- `space-around`: Columns are evenly distributed with equal space around them

Best practice: Use `space-between` for navigation or action buttons

### Min Height

Layout impact:
- Ensures consistent row height for vertical alignment
- Required for `align-items="center"` to work properly
- Prevents row height from collapsing when content is short

Best practice: Use with `align-items="center"` for vertically centered content

Example: `min-height="100px"` or `min-height="10rem"`

### No Wrap

Layout impact:
- Prevents columns from wrapping to new lines
- Columns may overflow horizontally if total width exceeds container
- Useful for navigation bars or horizontal scrolling layouts

Note: Can cause horizontal overflow if columns are too wide

Best practice: Use sparingly, only when you need to prevent wrapping

### Layout Properties
`pds-row` creates the horizontal rows that are used to contain a set of columns and can be view on the [Layouts](/docs/components-layout--docs) page.

## Playground

<Canvas of={stories.Default} />

<Controls of={stories.Default} />

import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as stories from '../stories/pds-radio.stories.js';

import { DocArgsTable, DocCanvas } from '@pine-ds/doc-components';
import { components } from '../../../../dist/docs.json';

<Meta of={stories} />

# Radio

Radio components allow users to select one option from a group of two or more choices.

## Guidelines

### When to use
- When users need to choose only one option from a predefined list.
- For mutually exclusive options where one selection automatically deselects others.
- When clarity about all possible options is critical for user decision-making.

### When not to use
- For binary yes/no choices; consider using a switch instead.
- When users need to select multiple options; use checkboxes instead.
- For dynamic options that aren't easily displayed together in a list.

### Accessibility
- Ensure the label is descriptive and clearly associated with the radio button.
- Group radios logically using a `name` attribute to indicate relationships.
- Use proper error messaging and states (e.g., `invalid`) for validation feedback.
- Avoid disabling radios unless necessary; provide context for disabled options.

## Properties

<DocArgsTable componentName='pds-radio' docSource={components} />

## Examples

### Default

<DocCanvas mdxSource={{
  react: `<PdsRadio componentId="default" label="Label" />`,
  webComponent: `<pds-radio component-id="default" label="Label"></pds-radio>`
}}>
  <pds-radio component-id="default" label="Label"></pds-radio>
</DocCanvas>

### Checked

Radios appear as checked when activated.

<DocCanvas mdxSource={{
  react: `<PdsRadio componentId="checked" label="Label" checked={true} />`,
  webComponent: `<pds-radio component-id="checked" label="Label" checked></pds-radio>`
}}>
  <pds-radio component-id="checked" label="Label" checked></pds-radio>
</DocCanvas>

### Disabled

Disabled radios visually indicate and functionally prevent user interaction.

<DocCanvas mdxSource={{
  react: `<PdsRadio componentId="disabled" label="Label" disabled={true} />`,
  webComponent: `<pds-radio component-id="disabled" label="Label" disabled></pds-radio>`
}}>
  <pds-radio component-id="disabled" label="Label" disabled></pds-radio>
</DocCanvas>

### Message

Displays helper text below the label to provide additional context.

<DocCanvas mdxSource={{
  react: `<PdsRadio componentId="message1" label="Label" helperMessage="This is short message text." />`,
  webComponent: `<pds-radio component-id="message1" label="Label" helper-message="This is short message text."></pds-radio>`
}}>
  <pds-radio component-id="message1" label="Label" helper-message="This is short message text."></pds-radio>
</DocCanvas>

### Invalid

Displays the radio in an invalid state, such as when a required selection is missing.

An optional error message can provide further instructions, displayed independently of the helper message.

<DocCanvas mdxSource={{
  react: `<PdsRadio componentId="invalid" label="Label" invalid errorMessage="This is a short error message" />`,
  webComponent: `<pds-radio component-id="invalid" label="Label" invalid error-message="This is a short error message"></pds-radio>`
}}>
  <pds-radio component-id="invalid" label="Label" invalid error-message="This is a short error message"></pds-radio>
</DocCanvas>

### With Border

Add a border around the radio component for better visual separation, useful for card-like layouts or when radios need more visual emphasis.

<DocCanvas mdxSource={{
  react: `<PdsRadio componentId="border" label="Label" hasBorder={true} helperMessage="This radio has enhanced visual separation" />`,
  webComponent: `<pds-radio component-id="border" label="Label" has-border helper-message="This radio has enhanced visual separation"></pds-radio>`
}}>
  <pds-radio component-id="border" label="Label" has-border helper-message="This radio has enhanced visual separation"></pds-radio>
</DocCanvas>

### Group

For grouping multiple radios together, use <pds-link href="../?path=/docs/components-radio-group--docs">pds-radio-group</pds-link> instead of manually grouping radios.

### With Image

Radio buttons can display custom images instead of the default radio input in a bordered card layout. The image replaces the visual radio button while maintaining all functionality and accessibility features.

**Note:** Images must be provided via the `image` slot.

<DocCanvas mdxSource={{
  react: `<PdsRadio
  componentId="image-radio"
  label="Profile Picture"
  helperMessage="Select your profile avatar">
  <PdsBox slot="image" backgroundColor="var(--pine-color-accent)" borderRadius="full" padding="sm">
    <PdsIcon icon="danger" size="medium" color="var(--pine-color-white)" />
  </PdsBox>
</PdsRadio>`,
  webComponent: `<pds-radio
  component-id="image-radio"
  label="Profile Picture"
  helper-message="Select your profile avatar">
  <pds-box slot="image" background-color="var(--pine-color-accent)" border-radius="full" padding="sm">
    <pds-icon icon="danger" size="medium" color="var(--pine-color-white)" />
  </pds-box>
</pds-radio>`
}}>
  <pds-radio
    component-id="image-radio"
    label="Profile Picture"
    helper-message="Select your profile avatar">
    <pds-box slot="image" background-color="var(--pine-color-accent)" border-radius="full" padding="sm">
      <pds-icon icon="danger" size="medium" color="var(--pine-color-white)" />
    </pds-box>
  </pds-radio>
</DocCanvas>

## Form Integration

- Assign the same `name` to each radio in a group so only one option submits with the form.
- Set a unique `value` on every radio to identify the selected option inside `FormData`.
- Apply `required` (typically on the first radio in the group) plus `invalid`/`errorMessage` to surface validation feedback when no choice is selected.
- For grouped radios with a single error message, use `pds-radio-group` which automatically handles `name` propagation and displays a single error message for the entire group.

## Technical Notes

### Using pds-radio-group

When grouping multiple radios, the <pds-link href="../?path=/docs/components-radio-group--docs">pds-radio-group</pds-link> component provides several advantages over manually grouping radios:

- **Automatic prop propagation**: The group automatically applies `name`, `disabled`, `invalid`, and `required` attributes to all child radios, ensuring consistent state across the group
- **Group-level messaging**: Displays a single error message or helper message for the entire group instead of individual messages on each radio
- **Group label**: Supports an optional group-level `label` prop that appears above all radios
- **Layout control**: Use the `direction` prop to arrange radios horizontally (`row`) or vertically (`column`), with the label always remaining above the radios
- **Layout support**: Works seamlessly with standard radios, bordered radios (`hasBorder`), and radios with images
- **Event handling**: Emits `pdsRadioGroupChange` when a radio in the group is selected, providing the selected `value` and `componentId` in the event detail
- **Group states**: Supports `disabled` and `invalid` states that automatically propagate to all radios in the group

This simplifies form management by handling common group-level concerns automatically and reduces the need to manually coordinate props across multiple radio components.

## Additional Resources

[MDN Web Docs: Radio](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/radio)

## Playground

<Canvas of={stories.Default} />

<Controls of={stories.Default} />

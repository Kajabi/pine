import { Meta, Story, Canvas, Source, ArgsTable } from '@storybook/addon-docs';
import { html, render } from 'lit-html';

import { extractArgTypes } from '@pxtrn/storybook-addon-docs-stencil';

import * as stories from './pds-sortable.stories.js';

<Meta
  title="components/Sortable"
  component="pds-sortable"
  argTypes={extractArgTypes('pds-sortable')}
  args={{}}
  subcomponents={{
    PdsSortableItem: 'pds-sortable-item',
  }}
/>

# Sortable

Sortable is for creating sortable containers of items that can be sorted via drag and drop functionality.

## Properties

<ArgsTable of="pds-sortable" />

### Default

<Story story={stories.Default} />

<Canvas>
  <pds-sortable component-id="default">
    <pds-sortable-item>Item 1</pds-sortable-item>
    <pds-sortable-item>Item 2</pds-sortable-item>
    <pds-sortable-item>Item 3</pds-sortable-item>
  </pds-sortable>
</Canvas>

### Bordered

When `border` is set to `true`, the component will render a border around all items.

<Story story={stories.Bordered} />

<Canvas>
  <pds-sortable border component-id="bordered">
    <pds-sortable-item>Item 1</pds-sortable-item>
    <pds-sortable-item>Item 2</pds-sortable-item>
    <pds-sortable-item>Item 3</pds-sortable-item>
  </pds-sortable>
</Canvas>

### Dividers

When `dividers` is set to `true`, a border will display between items.

<Story story={stories.Dividers} />

<Canvas>
  <pds-sortable dividers>
    <pds-sortable-item>Item 1</pds-sortable-item>
    <pds-sortable-item>Item 2</pds-sortable-item>
    <pds-sortable-item>Item 3</pds-sortable-item>
  </pds-sortable>
</Canvas>

### Handle

When `handle` is set to `true` on a `pds-sortable-item`, an handle icon will be displayed within an item.

<Story story={stories.Handle} />

<Canvas>
  <pds-sortable component-id="handle">
    <pds-sortable-item handle>Item 1</pds-sortable-item>
    <pds-sortable-item handle>Item 2</pds-sortable-item>
    <pds-sortable-item handle>Item 3</pds-sortable-item>
  </pds-sortable>
</Canvas>

#### Handle Only
By default the full `row` is active for dragging/sorting. However, `handle-type` can be set to `handle` in order to allow only the handle to be used.

<Canvas>
  <pds-sortable component-id="handle-only" handle-type="handle">
    <pds-sortable-item handle>Item 1</pds-sortable-item>
    <pds-sortable-item handle>Item 2</pds-sortable-item>
    <pds-sortable-item handle>Item 3</pds-sortable-item>
  </pds-sortable>
</Canvas>

### Actions

The `actions` property in the `pds-sortable-item` component determines whether the `sortable-actions` slot should be enabled.

The `sortable-actions` slot is provided to place content within the `pds-sortable-item__actions` element as children, but this slot is only rendered if the `actions` property is set to `true`.

<Story story={stories.Actions} />

<Canvas>
  <pds-sortable component-id="actions">
    <pds-sortable-item actions>
      Item 1
      <div slot="sortable-actions">
        <pds-link href="#" variant="plain">action</pds-link>
      </div>
    </pds-sortable-item>
    <pds-sortable-item actions >
      Item 2
      <div slot="sortable-actions">
        <pds-link href="#" variant="plain">action</pds-link>
      </div>
    </pds-sortable-item>
    <pds-sortable-item actions>
      Item 3
      <div slot="sortable-actions">
        <pds-link href="#" variant="plain">action</pds-link>
      </div>
    </pds-sortable-item>
  </pds-sortable>
</Canvas>

### Demo

The following is a demo of how all the properties and slots can be used together to create a sortable list.

<Story story={stories.FullDemo} />

<Canvas>
  <pds-sortable border dividers component-id="demo">
    <pds-sortable-item actions handle>
      <div>
        <div><strong>Item 1</strong></div>
        <div>Item 1 description copy text</div>
      </div>
      <div slot="sortable-actions">
        <pds-link href="#" variant="plain">action</pds-link>
      </div>
    </pds-sortable-item>
    <pds-sortable-item actions handle>
      <div>
        <div><strong>Item 2</strong></div>
        <div>Item 2 description copy text</div>
      </div>
      <div slot="sortable-actions">
        <pds-link href="#" variant="plain">action</pds-link>
      </div>
    </pds-sortable-item>
    <pds-sortable-item actions handle>
      <div>
        <div><strong>Item 3</strong></div>
        <div>Item 3 description copy text</div>
      </div>
      <div slot="sortable-actions">
        <pds-link href="#" variant="plain">action</pds-link>
      </div>
    </pds-sortable-item>
  </pds-sortable>
</Canvas>

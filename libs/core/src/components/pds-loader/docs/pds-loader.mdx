import {DocArgsTable, DocCanvas} from '@pine-ds/doc-components';
import { components } from '../../../../dist/docs.json';

# Loader

The Loader component is a visual indicator that informs users an operation is in progress, enhancing the user experience by providing feedback during potentially time-consuming tasks.

## Guidelines

### When to use

- Display the Loader when retrieving data from an API or database to indicate that content is loading.
- Use the Loader to show that a form is being submitted.
- Implement the Loader during navigation between pages to indicate that a new page is loading.

### When not to use

- Avoid using the Loader for actions that complete quickly, as it may cause unncessary distraction.
- Do not use the Loader for background tasks that do not require user interaction.

## Accessibility

Dynamic content on a page that does not require a page load is considered a live region. A loader can be used to convey to the user that the live region will be updated. The appropriate aria role, `aria-live`, is already set on the loader component when `is-loading` is set to `true`. When `is-loading` is set to `false`, `aria-hidden` is added to the component to hide it from the accessibility tree. For more information about live regions, please refer to [MDN's article.](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions)

## Properties

<DocArgsTable componentName="pds-loader" docSource={components} />

### Default

By default, the prop `is-loading` is true, which displays the loader. Setting it to false will hide the loader as needed.

<DocCanvas client:only
  mdxSource={{
    react: '<PdsLoader isLoading="true" variant="spinner"></PdsLoader>',
    webComponent: '<pds-loader is-loading="true" variant="spinner"></pds-loader>'
}}>
  <pds-loader is-loading="true" variant="spinner"></pds-loader>
</DocCanvas>

### Visible Label

The loader label is visually hidden by default, but still read by screenreaders. Set `showLabel` to `true` to make the label visible.

<DocCanvas client:only
  mdxSource={{
    react: '<PdsLoader isLoading="true" showLabel="true" variant="spinner"></PdsLoader>',
    webComponent: '<pds-loader is-loading="true" show-label="true" variant="spinner"></pds-loader>'
}}>
  <pds-loader is-loading="true" show-label="true" variant="spinner"></pds-loader>
</DocCanvas>

### Loader Size

The default loader's size can be changed to a either a preset value or a custom pixel value. This will not affect the `typing` variant.

#### Preset

<DocCanvas client:only
  mdxSource={{
    react: '<PdsLoader isLoading="true" size="xs" variant="spinner"></PdsLoader>',
    webComponent: '<pds-loader is-loading="true" size="xs" variant="spinner"></pds-loader>'
}}>
  <pds-loader is-loading="true" size="xs" variant="spinner"></pds-loader>
</DocCanvas>

#### Custom

<DocCanvas client:only
  mdxSource={{
    react: '<PdsLoader isLoading="true" size="128px" variant="spinner"></PdsLoader>',
    webComponent: '<pds-loader is-loading="true" size="128px" variant="spinner"></pds-loader>'
}}>
  <pds-loader is-loading="true" size="128px" variant="spinner"></pds-loader>
</DocCanvas>


## Typing

Setting the `variant` prop to `typing` will display a typing loader. This loader is not affected by any changes to the `size` prop.

<DocCanvas client:only
  mdxSource={{
    react: '<PdsLoader isLoading="true" variant="typing"></PdsLoader>',
    webComponent: '<pds-loader is-loading="true" variant="typing"></pds-loader>'
}}>
  <pds-loader is-loading="true" variant="typing"></pds-loader>
</DocCanvas>

## References

[MDN: Live Regions](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions)

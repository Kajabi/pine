:host {
  /**

    * @prop --background: Background of the tooltip
    * @prop --color: Text color of the tooltip
    * @prop --arrow-size: width and height of the arrow
    * @prop --arrow-offset: arrow offset position
    *
    * @prop --arrow-pointing-down: shape for downward facing arrow
    * @prop --arrow-pointing-to-the-right: shape for right facing arrow
    * @prop --arrow-pointing-to-the-left: shape for left facing arrow
    * @prop --arrow-pointing-up: shape for upward facing arrow
    */

  --background: #000;
  --color: #fff;
  --width: 236px;
  --arrow-size: 6px;
  --arrow-offset: 14px;

  --arrow-pointing-down: var(--arrow-size) var(--arrow-size) 0;
  --arrow-pointing-to-the-right: var(--arrow-size) 0 var(--arrow-size) var(--arrow-size);
  --arrow-pointing-to-the-left: var(--arrow-size) var(--arrow-size) var(--arrow-size) 0;
  --arrow-pointing-up: 0 var(--arrow-size) var(--arrow-size);

  display: inline-block;
  position: relative;

  ::slotted([slot="content"]) {
    white-space: normal;
  }

  &::part(content) {
    // NOTE: can't put display here and toggle, it doesn't update in the DOM.
    // Needs to go on a normal selector
    // display: none;
  }
}

:host(.sage-tooltip--has-html-content) {
  width: var(--width);
}

.sage-tooltip__content {
  background-color: var(--background);
  border-radius: 10px;
  color: var(--color);
  font-size: 14px;
  line-height: 20px;
  opacity: 0;
  padding: 8px 12px;
  position: absolute;
  visibility: hidden;
  width: max-content;
  z-index: 1;

  :host(.sage-tooltip--has-html-content) & {
    width: auto;
  }
}

.sage-tooltip__arrow {
  border-color: transparent;
  border-right-color: transparent;
  border-style: solid;
  border-width: var(--arrow-pointing-to-the-left);
  height: 0;
  position: absolute;
  width: 0;

  .sage-tooltip--right & {
    border-right-color: var(--background);
    border-width: var(--arrow-pointing-to-the-left);
    left: calc(var(--arrow-size) * -1);
    top: 50%;
    transform: translateY(-50%);
  }

  .sage-tooltip--right-end & {
    border-right-color: var(--background);
    border-width: var(--arrow-pointing-to-the-left);
    bottom: var(--arrow-offset);
    left: calc(var(--arrow-size) * -1);
    top: initial;
  }

  .sage-tooltip--right-start & {
    border-right-color: var(--background);
    border-width: var(--arrow-pointing-to-the-left);
    left: calc(var(--arrow-size) * -1);
    top: var(--arrow-offset);
  }

  .sage-tooltip--top & {
    border-top-color: var(--background);
    border-width: var(--arrow-pointing-down);
    bottom: calc(var(--arrow-size) * -1);
    left: 50%;
    top: initial;
    transform: translateX(-50%);
  }

  .sage-tooltip--top-start & {
    border-top-color: var(--background);
    border-width: var(--arrow-pointing-down);
    bottom: calc(var(--arrow-size) * -1);
    left: var(--arrow-offset);
    top: initial;
  }

  .sage-tooltip--top-end & {
    border-top-color: var(--background);
    border-width: var(--arrow-pointing-down);
    bottom: calc(var(--arrow-size) * -1);
    left: initial;
    right: var(--arrow-offset);
    top: initial;
  }

  .sage-tooltip--left & {
    border-left-color: var(--background);
    border-width: var(--arrow-pointing-to-the-right);
    left: initial;
    right: calc(var(--arrow-size) * -1);
    top: 50%;
    transform: translateY(-50%);
  }

  .sage-tooltip--left-end & {
    border-left-color: var(--background);
    border-width: var(--arrow-pointing-to-the-right);
    bottom: var(--arrow-offset);
    left: initial;
    right: calc(var(--arrow-size) * -1);
    top: initial;
  }

  .sage-tooltip--left-start & {
    border-left-color: var(--background);
    border-width: var(--arrow-pointing-to-the-right);
    left: initial;
    right: calc(var(--arrow-size) * -1);
    top: var(--arrow-offset);
  }

  .sage-tooltip--bottom & {
    border-bottom-color: var(--background);
    border-width: var(--arrow-pointing-up);
    left: 50%;
    top: calc(var(--arrow-size) * -1);
    transform: translateX(-50%);
  }

  .sage-tooltip--bottom-end & {
    border-bottom-color: var(--background);
    border-width: var(--arrow-pointing-up);
    left: initial;
    right: var(--arrow-offset);
    top: calc(var(--arrow-size) * -1);
  }

  .sage-tooltip--bottom-start & {
    border-bottom-color: var(--background);
    border-width: var(--arrow-pointing-up);
    left: var(--arrow-offset);
    top: calc(var(--arrow-size) * -1);
  }
}

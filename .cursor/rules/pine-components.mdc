---
description: Stencil component development patterns for Pine Design System
globs: libs/core/src/components/**/*.tsx
alwaysApply: false
---

# Pine Component Development

## Coding Patterns

- Use Stencil decorators: `@Component`, `@Prop`, `@State`, `@Event`, `@Listen`, `@Method`, `@Watch`
- Props should have JSDoc comments — these generate the auto-docs in `readme.md`
- Use `@Event()` with `EventEmitter` for custom events; prefix with `pds` (e.g., `pdsTableRowSelected`)
- Shadow DOM is used — style with `::part()` attributes and `:host` selectors
- ESLint: `@stencil-community/recommended` + `@typescript-eslint` + Prettier

## Testing

- Spec tests go in the component's `test/` folder (e.g., `pds-chip/test/pds-chip.spec.tsx`) using Stencil's `newSpecPage`
- E2E tests also in the component's `test/` folder using Stencil's `newE2EPage`
- Every new prop, event, or behavior needs corresponding test coverage
- Run tests: `npx nx run @pine-ds/core:test`

## Documentation

- MDX docs in the component's `docs/` folder — include live examples with `<Canvas>` and `<Story>`
- Storybook stories in the component's `stories/` folder — export a default meta + named story exports
- `readme.md` is auto-generated by Stencil — do not edit manually
- JSDoc descriptions on `@Prop`, `@Event`, and `@Method` must use consistent terminology across components — review similar props/events on other components before writing new descriptions
- When adding a prop or event that exists in a similar form on another component, match the wording and phrasing of the existing description

## Boundaries

- **Always:** match existing component patterns, add test coverage for new props/events, use JSDoc on all public APIs
- **Ask first:** adding new dependencies, breaking API changes (removing/renaming props or events)
- **Never:** edit auto-generated `readme.md` or `components.d.ts`, skip Shadow DOM encapsulation
